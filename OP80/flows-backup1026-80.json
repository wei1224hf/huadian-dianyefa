[
    {
        "id": "dce641ad0336b7ac",
        "type": "tab",
        "label": "simulater",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "0ed9a07ea391dd22",
        "type": "tab",
        "label": "scheduler-80",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "3b5216fa86e84cf0",
        "type": "tab",
        "label": "dataCenter-80",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "0aceb91922d497d0",
        "type": "tab",
        "label": "screw-80",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "6b25f2664a9c5aec",
        "type": "tab",
        "label": "logic-80",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "20f519252766076f",
        "type": "tab",
        "label": "联动测试",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "c8219eb372b7ebb9",
        "type": "tab",
        "label": "联动测试2",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "8fe3e255cbd378f2",
        "type": "subflow",
        "name": "FanZai",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 160,
                "y": 120,
                "wires": [
                    {
                        "id": "e13a72f090db0b1f"
                    },
                    {
                        "id": "ccac15fbab446b84"
                    },
                    {
                        "id": "d95e80cb76a022e2"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 770,
                "y": 210,
                "wires": [
                    {
                        "id": "3c3144c82ed350c6",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "FanZai",
                "type": "num",
                "value": "0"
            }
        ],
        "meta": {},
        "color": "#DDAA99",
        "status": {
            "x": 510,
            "y": 410,
            "wires": [
                {
                    "id": "d2b17a75cd2d34c8",
                    "port": 0
                },
                {
                    "id": "0e2f49849c54aedf",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "54f147592a602955",
        "type": "subflow",
        "name": "6axes",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 50,
                "y": 30,
                "wires": [
                    {
                        "id": "95572ea14ecc22a6"
                    },
                    {
                        "id": "249e3a72d983f26e"
                    },
                    {
                        "id": "930a17021ca4b25b"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 680,
                "y": 140,
                "wires": [
                    {
                        "id": "c9d15a68ec85cae6",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "6axes",
                "type": "num",
                "value": "0"
            }
        ],
        "meta": {},
        "color": "#E2D96E",
        "icon": "font-awesome/fa-puzzle-piece",
        "status": {
            "x": 500,
            "y": 340,
            "wires": [
                {
                    "id": "68d49e9604c8a67f",
                    "port": 0
                },
                {
                    "id": "ad5ef292ac14a07a",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "85406c44406ecd64",
        "type": "subflow",
        "name": "vision",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 40,
                "wires": [
                    {
                        "id": "0655e9a35cdd0351"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 680,
                "y": 60,
                "wires": [
                    {
                        "id": "a5f9e96539897f65",
                        "port": 0
                    }
                ]
            },
            {
                "x": 740,
                "y": 160,
                "wires": [
                    {
                        "id": "a5f9e96539897f65",
                        "port": 1
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "v_str",
                "type": "str",
                "value": ""
            }
        ],
        "meta": {},
        "color": "#3FADB5",
        "icon": "font-awesome/fa-camera",
        "status": {
            "x": 520,
            "y": 340,
            "wires": [
                {
                    "id": "32957897a6cc0bd8",
                    "port": 0
                },
                {
                    "id": "9e457526e5b0ed14",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "94b4bfc7cb34885d",
        "type": "subflow",
        "name": "Subflow 1",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 80,
                "wires": [
                    {
                        "id": "e3178e8e199bddd8"
                    },
                    {
                        "id": "408e8913f8b81fd2"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1540,
                "y": 80,
                "wires": [
                    {
                        "id": "98fa2bde1381876e",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#DDAA99",
        "icon": "node-red/file.svg",
        "status": {
            "x": 580,
            "y": 260,
            "wires": [
                {
                    "id": "1c0b2e54edd8e421",
                    "port": 0
                },
                {
                    "id": "8718efa2ac0af9d6",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "5bd3bcf845cebff7",
        "type": "subflow",
        "name": "AGV-拉空盘",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 180,
                "wires": [
                    {
                        "id": "57ef3f9ec00da469"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1680,
                "y": 180,
                "wires": [
                    {
                        "id": "9f75348b15d39913",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#DDAA99",
        "status": {
            "x": 1680,
            "y": 580,
            "wires": [
                {
                    "id": "1c40a07c9f925a0f",
                    "port": 0
                },
                {
                    "id": "0712a34b51bc20ac",
                    "port": 0
                },
                {
                    "id": "bdaf53741c60cf1c",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "47ed10ed94f48a98",
        "type": "subflow",
        "name": "AGV-送满盘",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 220,
                "wires": [
                    {
                        "id": "5f4fe6c00e2a0426"
                    },
                    {
                        "id": "d7d5b4462da40396"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1480,
                "y": 140,
                "wires": [
                    {
                        "id": "d7d5b4462da40396",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#DDAA99",
        "status": {
            "x": 1500,
            "y": 560,
            "wires": [
                {
                    "id": "3e5d51787ed4ea4e",
                    "port": 0
                },
                {
                    "id": "b844d0be749b1a6a",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "967785e4049706c4",
        "type": "modbus-client",
        "name": "6轴-84",
        "clienttype": "tcp",
        "bufferCommands": true,
        "stateLogEnabled": false,
        "queueLogEnabled": false,
        "failureLogEnabled": true,
        "tcpHost": "192.168.110.84",
        "tcpPort": "502",
        "tcpType": "DEFAULT",
        "serialPort": "/dev/ttyUSB",
        "serialType": "RTU-BUFFERD",
        "serialBaudrate": "9600",
        "serialDatabits": "8",
        "serialStopbits": "1",
        "serialParity": "none",
        "serialConnectionDelay": "100",
        "serialAsciiResponseStartDelimiter": "0x3A",
        "unit_id": "1",
        "commandDelay": "1",
        "clientTimeout": "1000",
        "reconnectOnTimeout": true,
        "reconnectTimeout": "2000",
        "parallelUnitIdsAllowed": true,
        "showErrors": false,
        "showWarnings": true,
        "showLogs": true
    },
    {
        "id": "9644a7088aaca35d",
        "type": "modbus-client",
        "name": "控制器-80",
        "clienttype": "tcp",
        "bufferCommands": true,
        "stateLogEnabled": false,
        "queueLogEnabled": false,
        "failureLogEnabled": true,
        "tcpHost": "192.168.110.80",
        "tcpPort": "503",
        "tcpType": "DEFAULT",
        "serialPort": "/dev/ttyUSB",
        "serialType": "RTU-BUFFERD",
        "serialBaudrate": "9600",
        "serialDatabits": "8",
        "serialStopbits": "1",
        "serialParity": "none",
        "serialConnectionDelay": "100",
        "serialAsciiResponseStartDelimiter": "0x3A",
        "unit_id": "1",
        "commandDelay": "1",
        "clientTimeout": "1000",
        "reconnectOnTimeout": true,
        "reconnectTimeout": "2000",
        "parallelUnitIdsAllowed": true,
        "showErrors": false,
        "showWarnings": true,
        "showLogs": true
    },
    {
        "id": "8b08ccb1dadce45a",
        "type": "modbus-client",
        "name": "虚拟modbus-10080",
        "clienttype": "tcp",
        "bufferCommands": true,
        "stateLogEnabled": false,
        "queueLogEnabled": false,
        "failureLogEnabled": true,
        "tcpHost": "127.0.0.1",
        "tcpPort": "10080",
        "tcpType": "DEFAULT",
        "serialPort": "/dev/ttyUSB",
        "serialType": "RTU-BUFFERD",
        "serialBaudrate": "9600",
        "serialDatabits": "8",
        "serialStopbits": "1",
        "serialParity": "none",
        "serialConnectionDelay": "100",
        "serialAsciiResponseStartDelimiter": "0x3A",
        "unit_id": "1",
        "commandDelay": "1",
        "clientTimeout": "1000",
        "reconnectOnTimeout": true,
        "reconnectTimeout": "2000",
        "parallelUnitIdsAllowed": true,
        "showErrors": false,
        "showWarnings": true,
        "showLogs": true
    },
    {
        "id": "b73080d51bca954d",
        "type": "modbus-client",
        "name": "螺丝刀-83",
        "clienttype": "tcp",
        "bufferCommands": true,
        "stateLogEnabled": false,
        "queueLogEnabled": false,
        "failureLogEnabled": true,
        "tcpHost": "192.168.110.83",
        "tcpPort": "23",
        "tcpType": "DEFAULT",
        "serialPort": "/dev/ttyUSB",
        "serialType": "RTU-BUFFERD",
        "serialBaudrate": "9600",
        "serialDatabits": "8",
        "serialStopbits": "1",
        "serialParity": "none",
        "serialConnectionDelay": "100",
        "serialAsciiResponseStartDelimiter": "0x3A",
        "unit_id": "1",
        "commandDelay": "1",
        "clientTimeout": "1000",
        "reconnectOnTimeout": true,
        "reconnectTimeout": "2000",
        "parallelUnitIdsAllowed": true,
        "showErrors": false,
        "showWarnings": true,
        "showLogs": true
    },
    {
        "id": "cf9a8cc3cf8eaa5d",
        "type": "influxdb",
        "hostname": "192.168.110.20",
        "port": "8086",
        "protocol": "http",
        "database": "HDDYF",
        "name": "",
        "usetls": false,
        "tls": "",
        "influxdbVersion": "1.x",
        "url": "http://localhost:8086",
        "timeout": "10",
        "rejectUnauthorized": true
    },
    {
        "id": "512a1af1cfe67333",
        "type": "trigger",
        "z": "8fe3e255cbd378f2",
        "name": "",
        "op1": "1",
        "op2": "0",
        "op1type": "num",
        "op2type": "str",
        "duration": "-250",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 425,
        "y": 210,
        "wires": [
            [
                "668f091b15c8295f",
                "d2b17a75cd2d34c8"
            ]
        ],
        "l": false
    },
    {
        "id": "6c596065c6e35277",
        "type": "delay",
        "z": "8fe3e255cbd378f2",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 425,
        "y": 170,
        "wires": [
            [
                "c10e076ff0914977"
            ]
        ],
        "l": false
    },
    {
        "id": "668f091b15c8295f",
        "type": "function",
        "z": "8fe3e255cbd378f2",
        "name": "函数 26",
        "func": "const IO = global.get(\"IO_80\");\nif (IO.AI.response == (IO.AO.request_+100)){\n    return {reset:1};\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 485,
        "y": 210,
        "wires": [
            [
                "512a1af1cfe67333",
                "3c3144c82ed350c6"
            ]
        ],
        "l": false
    },
    {
        "id": "3c3144c82ed350c6",
        "type": "function",
        "z": "8fe3e255cbd378f2",
        "name": "函数 27",
        "func": "return {payload: 1}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 565,
        "y": 210,
        "wires": [
            [
                "0e2f49849c54aedf"
            ]
        ],
        "l": false
    },
    {
        "id": "e13a72f090db0b1f",
        "type": "function",
        "z": "8fe3e255cbd378f2",
        "name": "函数 28",
        "func": "var IO = global.get(\"IO_80\");\nIO.AO.request = env.get(\"FanZai\");\nIO.AO.request_ = env.get(\"FanZai\");\nflow.set(\"c3\",1);\nreturn {payload: 1};",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 210,
        "wires": [
            [
                "512a1af1cfe67333",
                "6c596065c6e35277"
            ]
        ]
    },
    {
        "id": "c10e076ff0914977",
        "type": "function",
        "z": "8fe3e255cbd378f2",
        "name": "函数 29",
        "func": "var IO = global.get(\"IO_80\");\nIO.AO.request = 0;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 170,
        "wires": [
            []
        ]
    },
    {
        "id": "d2b17a75cd2d34c8",
        "type": "function",
        "z": "8fe3e255cbd378f2",
        "name": "函数 30",
        "func": "var c3 = flow.get(\"c3\");\nconst IO = global.get(\"IO_80\");\nmsg.payload = c3 + \":\" + IO.AO.request_;\nflow.set(\"c3\",c3+1);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 350,
        "wires": [
            []
        ]
    },
    {
        "id": "0e2f49849c54aedf",
        "type": "function",
        "z": "8fe3e255cbd378f2",
        "name": "函数 31",
        "func": "msg.payload = \"DONE\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 290,
        "wires": [
            []
        ]
    },
    {
        "id": "d0904a53b86a0419",
        "type": "file",
        "z": "8fe3e255cbd378f2",
        "name": "",
        "filename": "c:/tmp/fanzai.txt",
        "filenameType": "str",
        "appendNewline": true,
        "createDir": false,
        "overwriteFile": "false",
        "encoding": "none",
        "x": 360,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "ccac15fbab446b84",
        "type": "function",
        "z": "8fe3e255cbd378f2",
        "name": "函数 50",
        "func": "const t = (new Date()).toISOString();\nconst r = env.get(\"FanZai\");\nmsg.payload = r+\":\"+t;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 200,
        "y": 440,
        "wires": [
            [
                "d0904a53b86a0419"
            ]
        ]
    },
    {
        "id": "d95e80cb76a022e2",
        "type": "function",
        "z": "8fe3e255cbd378f2",
        "name": "函数 50",
        "func": "\nmsg.payload = {\n    device: \"OP80\",\n    key: \"FanZai\",\n    value: env.get(\"FanZai\")\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 200,
        "y": 540,
        "wires": [
            [
                "819fdb2d53646047"
            ]
        ]
    },
    {
        "id": "819fdb2d53646047",
        "type": "influxdb out",
        "z": "8fe3e255cbd378f2",
        "influxdb": "cf9a8cc3cf8eaa5d",
        "name": "",
        "measurement": "log",
        "precision": "",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 335,
        "y": 540,
        "wires": [],
        "l": false
    },
    {
        "id": "c2626d94b9292dc2",
        "type": "trigger",
        "z": "54f147592a602955",
        "name": "",
        "op1": "1",
        "op2": "0",
        "op1type": "num",
        "op2type": "str",
        "duration": "-250",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 365,
        "y": 140,
        "wires": [
            [
                "23d43301c92f0e0e",
                "68d49e9604c8a67f"
            ]
        ],
        "l": false
    },
    {
        "id": "e8f0b18770c8c926",
        "type": "delay",
        "z": "54f147592a602955",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 365,
        "y": 100,
        "wires": [
            [
                "850bbfbbd321bb30"
            ]
        ],
        "l": false
    },
    {
        "id": "23d43301c92f0e0e",
        "type": "function",
        "z": "54f147592a602955",
        "name": "函数 32",
        "func": "const IO = global.get(\"IO_80\");\nif (IO.AI_6axes.response == (IO.AO_6axes.request_+100)){\n    return {reset:1};\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 425,
        "y": 140,
        "wires": [
            [
                "c2626d94b9292dc2",
                "c9d15a68ec85cae6"
            ]
        ],
        "l": false
    },
    {
        "id": "c9d15a68ec85cae6",
        "type": "function",
        "z": "54f147592a602955",
        "name": "函数 33",
        "func": "return {payload: 1}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 505,
        "y": 140,
        "wires": [
            [
                "ad5ef292ac14a07a"
            ]
        ],
        "l": false
    },
    {
        "id": "95572ea14ecc22a6",
        "type": "function",
        "z": "54f147592a602955",
        "name": "函数 34",
        "func": "var IO = global.get(\"IO_80\");\nIO.AO_6axes.request = env.get(\"6axes\");\nIO.AO_6axes.request_ = env.get(\"6axes\");\nflow.set(\"c1\",1);\nreturn {payload: 1};",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 180,
        "y": 140,
        "wires": [
            [
                "c2626d94b9292dc2",
                "e8f0b18770c8c926"
            ]
        ]
    },
    {
        "id": "850bbfbbd321bb30",
        "type": "function",
        "z": "54f147592a602955",
        "name": "函数 35",
        "func": "var IO = global.get(\"IO_80\");\nIO.AO_6axes.request = 0;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "68d49e9604c8a67f",
        "type": "function",
        "z": "54f147592a602955",
        "name": "函数 36",
        "func": "var c1 = flow.get(\"c1\");\nconst IO = global.get(\"IO_80\");\nmsg.payload = c1 + \":\" + IO.AO_6axes.request_;\nflow.set(\"c1\",c1+1);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "ad5ef292ac14a07a",
        "type": "function",
        "z": "54f147592a602955",
        "name": "函数 37",
        "func": "msg.payload = \"DONE\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 540,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "09fad66cb794d1f7",
        "type": "file",
        "z": "54f147592a602955",
        "name": "",
        "filename": "c:/tmp/6axes.txt",
        "filenameType": "str",
        "appendNewline": true,
        "createDir": false,
        "overwriteFile": "false",
        "encoding": "none",
        "x": 360,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "249e3a72d983f26e",
        "type": "function",
        "z": "54f147592a602955",
        "name": "函数 51",
        "func": "const t = (new Date()).toISOString();\nconst r = env.get(\"FanZai\");\nmsg.payload = r+\":\"+t;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 160,
        "y": 300,
        "wires": [
            [
                "09fad66cb794d1f7"
            ]
        ]
    },
    {
        "id": "930a17021ca4b25b",
        "type": "function",
        "z": "54f147592a602955",
        "name": "函数 50",
        "func": "\nmsg.payload = {\n    device: \"OP80\",\n    key: \"6axes\",\n    value: env.get(\"6axes\")\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 220,
        "y": 520,
        "wires": [
            [
                "86e8f92610b0e432"
            ]
        ]
    },
    {
        "id": "86e8f92610b0e432",
        "type": "influxdb out",
        "z": "54f147592a602955",
        "influxdb": "cf9a8cc3cf8eaa5d",
        "name": "",
        "measurement": "log",
        "precision": "",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 355,
        "y": 520,
        "wires": [],
        "l": false
    },
    {
        "id": "b8c242e73a33a067",
        "type": "trigger",
        "z": "85406c44406ecd64",
        "name": "",
        "op1": "1",
        "op2": "0",
        "op1type": "num",
        "op2type": "str",
        "duration": "-250",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 355,
        "y": 120,
        "wires": [
            [
                "48503357cb07eab1",
                "32957897a6cc0bd8"
            ]
        ],
        "l": false
    },
    {
        "id": "80f37a73369290ee",
        "type": "delay",
        "z": "85406c44406ecd64",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 355,
        "y": 80,
        "wires": [
            [
                "3d880abbaa356680"
            ]
        ],
        "l": false
    },
    {
        "id": "48503357cb07eab1",
        "type": "function",
        "z": "85406c44406ecd64",
        "name": "函数 39",
        "func": "const v = global.get(\"Vision_90\");\nif (v.result > 0 ){\n    return {reset:1};\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 415,
        "y": 120,
        "wires": [
            [
                "b8c242e73a33a067",
                "0e99c8e9a1adc4b1"
            ]
        ],
        "l": false
    },
    {
        "id": "0e99c8e9a1adc4b1",
        "type": "function",
        "z": "85406c44406ecd64",
        "name": "函数 40",
        "func": "return {payload: 1}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 495,
        "y": 120,
        "wires": [
            [
                "9e457526e5b0ed14",
                "a5f9e96539897f65"
            ]
        ],
        "l": false
    },
    {
        "id": "0655e9a35cdd0351",
        "type": "function",
        "z": "85406c44406ecd64",
        "name": "函数 41",
        "func": "var v = global.get(\"Vision_90\");\nv.request = env.get(\"v_str\");\nv.request_ = env.get(\"v_str\");\nv.result = 0;\nflow.set(\"cv\",1);\nreturn {payload: 1};",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 170,
        "y": 120,
        "wires": [
            [
                "b8c242e73a33a067",
                "80f37a73369290ee"
            ]
        ]
    },
    {
        "id": "3d880abbaa356680",
        "type": "function",
        "z": "85406c44406ecd64",
        "name": "函数 42",
        "func": "var v = global.get(\"Vision_90\");\nv.request = \"\"\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "32957897a6cc0bd8",
        "type": "function",
        "z": "85406c44406ecd64",
        "name": "函数 43",
        "func": "var c = flow.get(\"cv\");\nvar v = global.get(\"Vision_90\");\nmsg.payload = c + \":\" + v.request_;\nflow.set(\"cv\",c+1);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "9e457526e5b0ed14",
        "type": "function",
        "z": "85406c44406ecd64",
        "name": "函数 44",
        "func": "msg.payload = \"DONE\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 530,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "a5f9e96539897f65",
        "type": "switch",
        "z": "85406c44406ecd64",
        "name": "",
        "property": "Vision_90.result",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 630,
        "y": 140,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "9706841a46a546e5",
        "type": "switch",
        "z": "94b4bfc7cb34885d",
        "name": "等待2轴桁架吹完螺丝",
        "property": "IO_80.AI.response",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "109",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 460,
        "y": 80,
        "wires": [
            [
                "bfb0fa50783fd70b"
            ]
        ]
    },
    {
        "id": "bfb0fa50783fd70b",
        "type": "switch",
        "z": "94b4bfc7cb34885d",
        "name": "等待机器人抓取先导阀到等待位置",
        "property": "IO_80.AI_6axes.response",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "107",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 780,
        "y": 80,
        "wires": [
            [
                "9f580725823e1252"
            ]
        ]
    },
    {
        "id": "e3178e8e199bddd8",
        "type": "trigger",
        "z": "94b4bfc7cb34885d",
        "name": "",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "-250",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 230,
        "y": 80,
        "wires": [
            [
                "9706841a46a546e5",
                "1c0b2e54edd8e421"
            ]
        ]
    },
    {
        "id": "9f580725823e1252",
        "type": "change",
        "z": "94b4bfc7cb34885d",
        "name": "接收到数据后，重置值为1",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "1",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "1111",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1110,
        "y": 80,
        "wires": [
            [
                "e3178e8e199bddd8",
                "8718efa2ac0af9d6",
                "98fa2bde1381876e"
            ]
        ]
    },
    {
        "id": "1c0b2e54edd8e421",
        "type": "function",
        "z": "94b4bfc7cb34885d",
        "name": "函数 46",
        "func": "var allWait = flow.get(\"allWait\");\nallWait++;\nmsg.payload = allWait;\nflow.set(\"allWait\",allWait);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "408e8913f8b81fd2",
        "type": "function",
        "z": "94b4bfc7cb34885d",
        "name": "函数 47",
        "func": "flow.set(\"allWait\",1)",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 140,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "8718efa2ac0af9d6",
        "type": "function",
        "z": "94b4bfc7cb34885d",
        "name": "函数 48",
        "func": "msg.payload = 'DONE';\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1260,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "98fa2bde1381876e",
        "type": "function",
        "z": "94b4bfc7cb34885d",
        "name": "函数 49",
        "func": "return {payload: 1};",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1360,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "d4cc02e4c06fea32",
        "type": "modbus-write",
        "z": "5bd3bcf845cebff7",
        "name": "拉空盘",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "4081",
        "quantity": "1",
        "server": "8b08ccb1dadce45a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 230,
        "y": 180,
        "wires": [
            [
                "9372bc03897e5d90",
                "bdaf53741c60cf1c"
            ],
            []
        ]
    },
    {
        "id": "57ef3f9ec00da469",
        "type": "change",
        "z": "5bd3bcf845cebff7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "2",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 145,
        "y": 180,
        "wires": [
            [
                "d4cc02e4c06fea32"
            ]
        ],
        "l": false
    },
    {
        "id": "653a71da59f17f34",
        "type": "trigger",
        "z": "5bd3bcf845cebff7",
        "name": "",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "-250",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 905,
        "y": 180,
        "wires": [
            [
                "5d5dee1008387c9e"
            ]
        ],
        "l": false
    },
    {
        "id": "5d5dee1008387c9e",
        "type": "switch",
        "z": "5bd3bcf845cebff7",
        "name": "等待12",
        "property": "IO_80.AGV.response",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "12",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1000,
        "y": 180,
        "wires": [
            [
                "35c18fc0c45abea6"
            ]
        ]
    },
    {
        "id": "35c18fc0c45abea6",
        "type": "function",
        "z": "5bd3bcf845cebff7",
        "name": "function 84",
        "func": "msg = {payload: 1, reset: 1};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1095,
        "y": 180,
        "wires": [
            [
                "653a71da59f17f34",
                "9f75348b15d39913"
            ]
        ],
        "l": false
    },
    {
        "id": "9372bc03897e5d90",
        "type": "trigger",
        "z": "5bd3bcf845cebff7",
        "name": "",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "-250",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 385,
        "y": 180,
        "wires": [
            [
                "746c53187ffa5532"
            ]
        ],
        "l": false
    },
    {
        "id": "746c53187ffa5532",
        "type": "switch",
        "z": "5bd3bcf845cebff7",
        "name": "等待2",
        "property": "IO_80.AGV.response",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "2",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 470,
        "y": 180,
        "wires": [
            [
                "381e9d144de72343"
            ]
        ]
    },
    {
        "id": "381e9d144de72343",
        "type": "function",
        "z": "5bd3bcf845cebff7",
        "name": "function 89",
        "func": "msg = {payload: 1, reset: 1};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 575,
        "y": 180,
        "wires": [
            [
                "9372bc03897e5d90",
                "89baa73d6e275241"
            ]
        ],
        "l": false
    },
    {
        "id": "cd88cc4fe2a133ba",
        "type": "modbus-write",
        "z": "5bd3bcf845cebff7",
        "name": "信号置位",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "4081",
        "quantity": "1",
        "server": "8b08ccb1dadce45a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 760,
        "y": 180,
        "wires": [
            [
                "653a71da59f17f34",
                "0712a34b51bc20ac"
            ],
            []
        ]
    },
    {
        "id": "89baa73d6e275241",
        "type": "change",
        "z": "5bd3bcf845cebff7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 655,
        "y": 180,
        "wires": [
            [
                "cd88cc4fe2a133ba"
            ]
        ],
        "l": false
    },
    {
        "id": "bdaf53741c60cf1c",
        "type": "change",
        "z": "5bd3bcf845cebff7",
        "name": "拉空盘",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "拉空盘",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "0712a34b51bc20ac",
        "type": "change",
        "z": "5bd3bcf845cebff7",
        "name": "信号置位",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "信号置位",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "1c40a07c9f925a0f",
        "type": "change",
        "z": "5bd3bcf845cebff7",
        "name": "出口盘 叉出",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "出口盘 叉出",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "9f75348b15d39913",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "5bd3bcf845cebff7",
        "name": "空盘退出",
        "env": [
            {
                "name": "FanZai",
                "value": "3",
                "type": "num"
            }
        ],
        "x": 1280,
        "y": 180,
        "wires": [
            [
                "1c40a07c9f925a0f"
            ]
        ]
    },
    {
        "id": "9fd64b4636eaa1f5",
        "type": "modbus-write",
        "z": "47ed10ed94f48a98",
        "name": "送满盘",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "4081",
        "quantity": "1",
        "server": "8b08ccb1dadce45a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 370,
        "y": 220,
        "wires": [
            [
                "42d74c787f301028",
                "b844d0be749b1a6a"
            ],
            []
        ]
    },
    {
        "id": "36cd9f10df467ce6",
        "type": "trigger",
        "z": "47ed10ed94f48a98",
        "name": "",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "-250",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1065,
        "y": 220,
        "wires": [
            [
                "2672d1cd0a1ff8d2"
            ]
        ],
        "l": false
    },
    {
        "id": "2672d1cd0a1ff8d2",
        "type": "switch",
        "z": "47ed10ed94f48a98",
        "name": "等待11",
        "property": "IO_80.AGV.response",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "11",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1150,
        "y": 220,
        "wires": [
            [
                "ec1751403ec1ce11"
            ]
        ]
    },
    {
        "id": "ec1751403ec1ce11",
        "type": "function",
        "z": "47ed10ed94f48a98",
        "name": "function 85",
        "func": "msg = {payload: 1, reset: 1};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1255,
        "y": 220,
        "wires": [
            [
                "36cd9f10df467ce6",
                "8d38155a17c55077"
            ]
        ],
        "l": false
    },
    {
        "id": "42d74c787f301028",
        "type": "trigger",
        "z": "47ed10ed94f48a98",
        "name": "",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "-250",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 505,
        "y": 220,
        "wires": [
            [
                "b50409374e0e3ba4"
            ]
        ],
        "l": false
    },
    {
        "id": "b50409374e0e3ba4",
        "type": "switch",
        "z": "47ed10ed94f48a98",
        "name": "等待1",
        "property": "IO_80.AGV.response",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 590,
        "y": 220,
        "wires": [
            [
                "9665b9df2e33de48"
            ]
        ]
    },
    {
        "id": "9665b9df2e33de48",
        "type": "function",
        "z": "47ed10ed94f48a98",
        "name": "function 90",
        "func": "msg = {payload: 1, reset: 1};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 695,
        "y": 220,
        "wires": [
            [
                "42d74c787f301028",
                "adb1183f3abb75b6"
            ]
        ],
        "l": false
    },
    {
        "id": "5ea441d6fe7cf84c",
        "type": "modbus-write",
        "z": "47ed10ed94f48a98",
        "name": "信号置位",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "4081",
        "quantity": "1",
        "server": "8b08ccb1dadce45a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 880,
        "y": 220,
        "wires": [
            [
                "36cd9f10df467ce6",
                "3e5d51787ed4ea4e"
            ],
            []
        ]
    },
    {
        "id": "adb1183f3abb75b6",
        "type": "change",
        "z": "47ed10ed94f48a98",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 775,
        "y": 220,
        "wires": [
            [
                "5ea441d6fe7cf84c"
            ]
        ],
        "l": false
    },
    {
        "id": "b844d0be749b1a6a",
        "type": "change",
        "z": "47ed10ed94f48a98",
        "name": "送满盘",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "送满盘",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "3e5d51787ed4ea4e",
        "type": "change",
        "z": "47ed10ed94f48a98",
        "name": "信号置位",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "信号置位",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1180,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "5f4fe6c00e2a0426",
        "type": "change",
        "z": "47ed10ed94f48a98",
        "name": "送满盘",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 250,
        "y": 220,
        "wires": [
            [
                "9fd64b4636eaa1f5"
            ]
        ]
    },
    {
        "id": "d7d5b4462da40396",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "47ed10ed94f48a98",
        "name": "进料-下降内滚",
        "env": [
            {
                "name": "FanZai",
                "value": "2",
                "type": "num"
            }
        ],
        "x": 340,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "8d38155a17c55077",
        "type": "change",
        "z": "47ed10ed94f48a98",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO.tray_in_count",
                "pt": "global",
                "to": "5",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "IO_80.AO.tray_out_count",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1345,
        "y": 220,
        "wires": [
            []
        ],
        "l": false
    },
    {
        "id": "abe11b0f53b29640",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 130,
        "y": 100,
        "wires": [
            [
                "c90c7f7dbabebf66"
            ]
        ]
    },
    {
        "id": "c90c7f7dbabebf66",
        "type": "change",
        "z": "dce641ad0336b7ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO_6axes.request",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 410,
        "y": 100,
        "wires": [
            [
                "a23b5ac3b2eea416"
            ]
        ]
    },
    {
        "id": "2932d38bfcedd7bc",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "2",
        "payloadType": "num",
        "x": 130,
        "y": 140,
        "wires": [
            [
                "c90c7f7dbabebf66"
            ]
        ]
    },
    {
        "id": "bfd77d8d555ed272",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "3",
        "payloadType": "num",
        "x": 130,
        "y": 180,
        "wires": [
            [
                "c90c7f7dbabebf66"
            ]
        ]
    },
    {
        "id": "5b3a69480e305918",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "4",
        "payloadType": "num",
        "x": 130,
        "y": 220,
        "wires": [
            [
                "c90c7f7dbabebf66"
            ]
        ]
    },
    {
        "id": "96aa2a29475a5f8b",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "5",
        "payloadType": "num",
        "x": 130,
        "y": 260,
        "wires": [
            [
                "c90c7f7dbabebf66"
            ]
        ]
    },
    {
        "id": "1e066b1b8f6cc3cc",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "6",
        "payloadType": "num",
        "x": 130,
        "y": 300,
        "wires": [
            [
                "c90c7f7dbabebf66"
            ]
        ]
    },
    {
        "id": "4bed96cb517ccfa9",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 370,
        "y": 220,
        "wires": [
            [
                "a149ff3e1db3f4f7"
            ]
        ]
    },
    {
        "id": "a149ff3e1db3f4f7",
        "type": "change",
        "z": "dce641ad0336b7ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO.request",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 260,
        "wires": [
            [
                "caaaae7b31b36f0c"
            ]
        ]
    },
    {
        "id": "5742565dc1c0478a",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "2",
        "payloadType": "num",
        "x": 370,
        "y": 260,
        "wires": [
            [
                "a149ff3e1db3f4f7"
            ]
        ]
    },
    {
        "id": "d8e250b8b62f146f",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "3",
        "payloadType": "num",
        "x": 370,
        "y": 300,
        "wires": [
            [
                "a149ff3e1db3f4f7"
            ]
        ]
    },
    {
        "id": "720313d2036bf270",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "4",
        "payloadType": "num",
        "x": 370,
        "y": 340,
        "wires": [
            [
                "a149ff3e1db3f4f7"
            ]
        ]
    },
    {
        "id": "c0f74097dafdab9f",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "5",
        "payloadType": "num",
        "x": 370,
        "y": 380,
        "wires": [
            [
                "a149ff3e1db3f4f7"
            ]
        ]
    },
    {
        "id": "4769277a8faa920f",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "6",
        "payloadType": "num",
        "x": 370,
        "y": 420,
        "wires": [
            [
                "a149ff3e1db3f4f7"
            ]
        ]
    },
    {
        "id": "4e2cf32578892638",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 130,
        "y": 60,
        "wires": [
            [
                "c90c7f7dbabebf66"
            ]
        ]
    },
    {
        "id": "c5f845c1d524615e",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 370,
        "y": 180,
        "wires": [
            [
                "a149ff3e1db3f4f7"
            ]
        ]
    },
    {
        "id": "86fc3a4314d8edeb",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "IO_80.AI.response",
        "payloadType": "global",
        "x": 720,
        "y": 560,
        "wires": [
            [
                "34c8fb450875134a"
            ]
        ]
    },
    {
        "id": "34c8fb450875134a",
        "type": "debug",
        "z": "dce641ad0336b7ac",
        "name": "调试 22",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 680,
        "y": 500,
        "wires": []
    },
    {
        "id": "d9c0262ce643c05e",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "IO_80.AI_6axes.response",
        "payloadType": "global",
        "x": 220,
        "y": 600,
        "wires": [
            [
                "28dd1bec30eaf59b"
            ]
        ]
    },
    {
        "id": "28dd1bec30eaf59b",
        "type": "debug",
        "z": "dce641ad0336b7ac",
        "name": "调试 23",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 440,
        "y": 600,
        "wires": []
    },
    {
        "id": "672947c6cb85cdd2",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "7",
        "payloadType": "num",
        "x": 370,
        "y": 460,
        "wires": [
            [
                "a149ff3e1db3f4f7"
            ]
        ]
    },
    {
        "id": "6d4c4ddd376a0a8b",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "8",
        "payloadType": "num",
        "x": 550,
        "y": 420,
        "wires": [
            [
                "a149ff3e1db3f4f7"
            ]
        ]
    },
    {
        "id": "c235fed3b9144fd8",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "9",
        "payloadType": "num",
        "x": 723,
        "y": 435,
        "wires": [
            [
                "a149ff3e1db3f4f7"
            ]
        ]
    },
    {
        "id": "d9b4a9d34120251f",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 870,
        "y": 100,
        "wires": [
            [
                "cb6f5ff72b97d381"
            ]
        ]
    },
    {
        "id": "b8c062f061481cdc",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "2",
        "payloadType": "num",
        "x": 870,
        "y": 140,
        "wires": [
            [
                "cb6f5ff72b97d381"
            ]
        ]
    },
    {
        "id": "c32014ac6a08a68c",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "3",
        "payloadType": "num",
        "x": 870,
        "y": 180,
        "wires": [
            [
                "cb6f5ff72b97d381"
            ]
        ]
    },
    {
        "id": "ae6e076ecedad83e",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "4",
        "payloadType": "num",
        "x": 870,
        "y": 220,
        "wires": [
            [
                "cb6f5ff72b97d381"
            ]
        ]
    },
    {
        "id": "1c8dd0f6a052224e",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "5",
        "payloadType": "num",
        "x": 870,
        "y": 260,
        "wires": [
            [
                "cb6f5ff72b97d381"
            ]
        ]
    },
    {
        "id": "e2f97d64adef014a",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "6",
        "payloadType": "num",
        "x": 870,
        "y": 300,
        "wires": [
            [
                "cb6f5ff72b97d381"
            ]
        ]
    },
    {
        "id": "e1e59c499999fd5f",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 870,
        "y": 60,
        "wires": [
            [
                "cb6f5ff72b97d381"
            ]
        ]
    },
    {
        "id": "cb6f5ff72b97d381",
        "type": "change",
        "z": "dce641ad0336b7ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO_6axes.index_top_tray",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1170,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "69f080e08589a93b",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "7",
        "payloadType": "num",
        "x": 890,
        "y": 340,
        "wires": [
            [
                "cb6f5ff72b97d381"
            ]
        ]
    },
    {
        "id": "29e2d94c0450bf27",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "8",
        "payloadType": "num",
        "x": 890,
        "y": 380,
        "wires": [
            [
                "cb6f5ff72b97d381"
            ]
        ]
    },
    {
        "id": "57cc7ef8bf16b02c",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "9",
        "payloadType": "num",
        "x": 890,
        "y": 420,
        "wires": [
            [
                "cb6f5ff72b97d381"
            ]
        ]
    },
    {
        "id": "b5b840b268e94802",
        "type": "change",
        "z": "dce641ad0336b7ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO.request",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 730,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "caaaae7b31b36f0c",
        "type": "delay",
        "z": "dce641ad0336b7ac",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 600,
        "y": 220,
        "wires": [
            [
                "b5b840b268e94802"
            ]
        ]
    },
    {
        "id": "5a236955eeb5179f",
        "type": "change",
        "z": "dce641ad0336b7ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO_6axes.request",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "a23b5ac3b2eea416",
        "type": "delay",
        "z": "dce641ad0336b7ac",
        "name": "",
        "pauseType": "delay",
        "timeout": "4",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 320,
        "y": 60,
        "wires": [
            [
                "5a236955eeb5179f"
            ]
        ]
    },
    {
        "id": "f5b3df329cd48fd4",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 1030,
        "y": 540,
        "wires": [
            [
                "dc80b461b6086d93"
            ]
        ]
    },
    {
        "id": "7f99ccb294b8dc28",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "2",
        "payloadType": "num",
        "x": 1030,
        "y": 580,
        "wires": [
            [
                "dc80b461b6086d93"
            ]
        ]
    },
    {
        "id": "3586bd5cafbc94ea",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "3",
        "payloadType": "num",
        "x": 1030,
        "y": 620,
        "wires": [
            [
                "dc80b461b6086d93"
            ]
        ]
    },
    {
        "id": "dc99c5dcd1bca6de",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 1030,
        "y": 500,
        "wires": [
            [
                "dc80b461b6086d93"
            ]
        ]
    },
    {
        "id": "dc80b461b6086d93",
        "type": "change",
        "z": "dce641ad0336b7ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO.index_assembled",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1320,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "52b2ce1d375ba062",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 110,
        "y": 760,
        "wires": [
            [
                "5706c12ed7565cbe"
            ]
        ]
    },
    {
        "id": "079186f750c63693",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "2",
        "payloadType": "num",
        "x": 110,
        "y": 800,
        "wires": [
            [
                "5706c12ed7565cbe"
            ]
        ]
    },
    {
        "id": "aa8b23d3e9358e92",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "3",
        "payloadType": "num",
        "x": 110,
        "y": 840,
        "wires": [
            [
                "5706c12ed7565cbe"
            ]
        ]
    },
    {
        "id": "b43baf2c54c963ea",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 110,
        "y": 720,
        "wires": [
            [
                "5706c12ed7565cbe"
            ]
        ]
    },
    {
        "id": "5706c12ed7565cbe",
        "type": "change",
        "z": "dce641ad0336b7ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO.tray_in_count",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "23a6b7a4b16e6e64",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "4",
        "payloadType": "num",
        "x": 110,
        "y": 880,
        "wires": [
            [
                "5706c12ed7565cbe"
            ]
        ]
    },
    {
        "id": "88047358db99b3c0",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "5",
        "payloadType": "num",
        "x": 110,
        "y": 920,
        "wires": [
            [
                "5706c12ed7565cbe"
            ]
        ]
    },
    {
        "id": "0d4fc587c4b90277",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 110,
        "y": 1020,
        "wires": [
            [
                "423992bb64a00af8"
            ]
        ]
    },
    {
        "id": "82b6b8aa5ba2fedc",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "2",
        "payloadType": "num",
        "x": 110,
        "y": 1060,
        "wires": [
            [
                "423992bb64a00af8"
            ]
        ]
    },
    {
        "id": "90a9e4338717f555",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "3",
        "payloadType": "num",
        "x": 110,
        "y": 1100,
        "wires": [
            [
                "423992bb64a00af8"
            ]
        ]
    },
    {
        "id": "4c9797432dc04f94",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 110,
        "y": 980,
        "wires": [
            [
                "423992bb64a00af8"
            ]
        ]
    },
    {
        "id": "423992bb64a00af8",
        "type": "change",
        "z": "dce641ad0336b7ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO.tray_out_count",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 390,
        "y": 1060,
        "wires": [
            []
        ]
    },
    {
        "id": "06094cda3cdafc6c",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "4",
        "payloadType": "num",
        "x": 110,
        "y": 1140,
        "wires": [
            [
                "423992bb64a00af8"
            ]
        ]
    },
    {
        "id": "74a66548d2c8e2bd",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "5",
        "payloadType": "num",
        "x": 110,
        "y": 1180,
        "wires": [
            [
                "423992bb64a00af8"
            ]
        ]
    },
    {
        "id": "7d71246666620918",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "10",
        "payloadType": "num",
        "x": 470,
        "y": 500,
        "wires": [
            [
                "a149ff3e1db3f4f7"
            ]
        ]
    },
    {
        "id": "18b235513e28e295",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "7",
        "payloadType": "num",
        "x": 1030,
        "y": 720,
        "wires": [
            [
                "dc80b461b6086d93"
            ]
        ]
    },
    {
        "id": "7b2cd22137c8fc63",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "8",
        "payloadType": "num",
        "x": 1030,
        "y": 760,
        "wires": [
            [
                "dc80b461b6086d93"
            ]
        ]
    },
    {
        "id": "5216724c59c530e4",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "-",
        "payloadType": "str",
        "x": 290,
        "y": 1260,
        "wires": [
            [
                "d4284e2180130236"
            ]
        ]
    },
    {
        "id": "d4284e2180130236",
        "type": "change",
        "z": "dce641ad0336b7ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Request_80.RequestID",
                "pt": "global",
                "to": "-",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 1300,
        "wires": [
            []
        ]
    },
    {
        "id": "36a89f6b5c0bc662",
        "type": "http in",
        "z": "dce641ad0336b7ac",
        "name": "",
        "url": "/80/RequestID",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 510,
        "y": 1260,
        "wires": [
            [
                "45e29054f0b73dce"
            ]
        ]
    },
    {
        "id": "45e29054f0b73dce",
        "type": "change",
        "z": "dce641ad0336b7ac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "-",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 635,
        "y": 1260,
        "wires": [
            [
                "d4284e2180130236",
                "e8b9e56d99167063"
            ]
        ],
        "l": false
    },
    {
        "id": "e8b9e56d99167063",
        "type": "http response",
        "z": "dce641ad0336b7ac",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 770,
        "y": 1260,
        "wires": []
    },
    {
        "id": "7e80915bf7cd83b8",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "5",
        "payloadType": "num",
        "x": 990,
        "y": 660,
        "wires": [
            [
                "dc80b461b6086d93"
            ]
        ]
    },
    {
        "id": "c377edee2821d719",
        "type": "http in",
        "z": "dce641ad0336b7ac",
        "name": "",
        "url": "AO.index_assembled",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 410,
        "y": 1380,
        "wires": [
            [
                "cf1b1d5896ef4a72",
                "9ca3222c6c3ed0f7"
            ]
        ]
    },
    {
        "id": "cf1b1d5896ef4a72",
        "type": "http response",
        "z": "dce641ad0336b7ac",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 650,
        "y": 1380,
        "wires": []
    },
    {
        "id": "9ca3222c6c3ed0f7",
        "type": "function",
        "z": "dce641ad0336b7ac",
        "name": "函数 39",
        "func": "var IO = global.get(\"IO_80\");\nIO.AO.index_assembled = parseFloat( msg.payload.data);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 1420,
        "wires": [
            []
        ]
    },
    {
        "id": "c34e4db40270c2ba",
        "type": "http in",
        "z": "dce641ad0336b7ac",
        "name": "",
        "url": "AO.tray_in_count",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 400,
        "y": 1460,
        "wires": [
            [
                "9c06e837bd1d71cf",
                "8c5a40a47ab227fe"
            ]
        ]
    },
    {
        "id": "9c06e837bd1d71cf",
        "type": "http response",
        "z": "dce641ad0336b7ac",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 650,
        "y": 1460,
        "wires": []
    },
    {
        "id": "8c5a40a47ab227fe",
        "type": "function",
        "z": "dce641ad0336b7ac",
        "name": "函数 40",
        "func": "var IO = global.get(\"IO_80\");\nIO.AO.tray_in_count = parseFloat( msg.payload.data);\nIO.AO.tray_out_count = 5 -parseFloat(msg.payload.data);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 1500,
        "wires": [
            []
        ]
    },
    {
        "id": "adc83b8c5f3ce9dd",
        "type": "http in",
        "z": "dce641ad0336b7ac",
        "name": "",
        "url": "AO_6axes.index_top_tray",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 430,
        "y": 1540,
        "wires": [
            [
                "7d948c233751170c",
                "2eb92af8bf12a009"
            ]
        ]
    },
    {
        "id": "7d948c233751170c",
        "type": "http response",
        "z": "dce641ad0336b7ac",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 650,
        "y": 1540,
        "wires": []
    },
    {
        "id": "2eb92af8bf12a009",
        "type": "function",
        "z": "dce641ad0336b7ac",
        "name": "函数 41",
        "func": "var IO = global.get(\"IO_80\");\nIO.AO_6axes.index_top_tray = parseFloat( msg.payload.data);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 1580,
        "wires": [
            []
        ]
    },
    {
        "id": "5c20276d903a34dc",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "抓取先导阀到等待位置",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "7",
        "payloadType": "num",
        "x": 180,
        "y": 340,
        "wires": [
            [
                "c90c7f7dbabebf66"
            ]
        ]
    },
    {
        "id": "0ec457b79fa654c0",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "14",
        "payloadType": "num",
        "x": 1110,
        "y": 240,
        "wires": [
            [
                "cb6f5ff72b97d381"
            ]
        ]
    },
    {
        "id": "55af304cac8333c4",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "11",
        "payloadType": "num",
        "x": 310,
        "y": 540,
        "wires": [
            [
                "a149ff3e1db3f4f7"
            ]
        ]
    },
    {
        "id": "36f224d32f668574",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "9",
        "payloadType": "num",
        "x": 1170,
        "y": 780,
        "wires": [
            [
                "dc80b461b6086d93"
            ]
        ]
    },
    {
        "id": "d9286c32653415d4",
        "type": "inject",
        "z": "dce641ad0336b7ac",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "10",
        "payloadType": "num",
        "x": 1310,
        "y": 780,
        "wires": [
            [
                "dc80b461b6086d93"
            ]
        ]
    },
    {
        "id": "5e601b804206ef8a",
        "type": "inject",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "2",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 740,
        "wires": [
            [
                "af9cfd15b1cb0699"
            ]
        ]
    },
    {
        "id": "af9cfd15b1cb0699",
        "type": "trigger",
        "z": "0ed9a07ea391dd22",
        "d": true,
        "name": "",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "-250",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 300,
        "y": 740,
        "wires": [
            [
                "4f7c79fd77fb38dc"
            ]
        ]
    },
    {
        "id": "3af8e0ca5cbf05b0",
        "type": "http in",
        "z": "0ed9a07ea391dd22",
        "name": "通用读多个接口",
        "url": "/80/ReadValue",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 120,
        "y": 660,
        "wires": [
            [
                "765dd18278471806",
                "a8c76c3f5f30968b"
            ]
        ]
    },
    {
        "id": "60c3df52814aa044",
        "type": "modbus-flex-getter",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "logIOActivities": false,
        "server": "8b08ccb1dadce45a",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 830,
        "y": 660,
        "wires": [
            [
                "0a6e009d35077a8c"
            ],
            [
                "872f3464f7276685"
            ]
        ]
    },
    {
        "id": "765dd18278471806",
        "type": "change",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "ReadValue_80",
                "pt": "global",
                "to": "[]",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 660,
        "wires": [
            [
                "c790fc92799892a2"
            ]
        ]
    },
    {
        "id": "c790fc92799892a2",
        "type": "function",
        "z": "0ed9a07ea391dd22",
        "name": "modbus 报文拆分",
        "func": "var arr = msg.payload;\nfor(var i=0;i<arr.length;i++){\n    var t = arr[i];\n    node.send({payload:{fc:3, address: parseInt(t.Address), quantity:1},temp:parseInt(t.Address)});\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 660,
        "wires": [
            [
                "60c3df52814aa044"
            ]
        ]
    },
    {
        "id": "0a6e009d35077a8c",
        "type": "function",
        "z": "0ed9a07ea391dd22",
        "name": "函数 4",
        "func": "var arr = global.get(\"ReadValue_80\");\narr.push({\n    Address: msg.modbusRequest.address,\n    Value: msg.payload[0],\n    ValueType: \"int\"\n});\nconsole.debug(arr);\nglobal.set(\"ReadValue_80\",arr);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1010,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "58487f8fcf1ad13b",
        "type": "change",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload.Code",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "payload.Msg",
                "pt": "msg",
                "to": "操作成功",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload.Data",
                "pt": "msg",
                "to": "ReadValue_80",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 700,
        "wires": [
            [
                "e890259894823d74"
            ]
        ]
    },
    {
        "id": "e890259894823d74",
        "type": "http response",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 810,
        "y": 700,
        "wires": []
    },
    {
        "id": "a8c76c3f5f30968b",
        "type": "delay",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 300,
        "y": 700,
        "wires": [
            [
                "feeeb7d1502ebb11"
            ]
        ]
    },
    {
        "id": "ca8979c14b6bd108",
        "type": "rbe",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "payload",
        "topi": "topic",
        "x": 370,
        "y": 800,
        "wires": [
            [
                "02e7718eb30bcc6e"
            ]
        ]
    },
    {
        "id": "4f7c79fd77fb38dc",
        "type": "change",
        "z": "0ed9a07ea391dd22",
        "name": "故障信号监听",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "IO_80.AI.error",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 200,
        "y": 800,
        "wires": [
            [
                "ca8979c14b6bd108"
            ]
        ]
    },
    {
        "id": "02e7718eb30bcc6e",
        "type": "switch",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 490,
        "y": 800,
        "wires": [
            [
                "9e9291c82e052d7e"
            ]
        ]
    },
    {
        "id": "5cc06bbd651b129a",
        "type": "http request",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "Accept",
                "valueType": "other",
                "valueValue": "application/json"
            }
        ],
        "x": 860,
        "y": 800,
        "wires": [
            [
                "86637bde03033fa8"
            ]
        ]
    },
    {
        "id": "872f3464f7276685",
        "type": "debug",
        "z": "0ed9a07ea391dd22",
        "name": "调试 15",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1000,
        "y": 720,
        "wires": []
    },
    {
        "id": "feeeb7d1502ebb11",
        "type": "change",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 700,
        "wires": [
            [
                "58487f8fcf1ad13b"
            ]
        ]
    },
    {
        "id": "86637bde03033fa8",
        "type": "debug",
        "z": "0ed9a07ea391dd22",
        "name": "调试 17",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1020,
        "y": 800,
        "wires": []
    },
    {
        "id": "60761f342f0ccb75",
        "type": "inject",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "2",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 160,
        "y": 900,
        "wires": [
            [
                "43c94bb3c7194856"
            ]
        ]
    },
    {
        "id": "43c94bb3c7194856",
        "type": "trigger",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "-2",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 340,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "89074e6b0dbf3de2",
        "type": "function",
        "z": "0ed9a07ea391dd22",
        "name": "物料缺料告知MES",
        "func": "const StationTask_90 = global.get(\"StationTask_90\");\nconst MaterialDetails = StationTask_90.ProcessDetail[0].MaterialDetails;\nconst url = global.get(\"LCS\")+\"GetLackMaterialsInfo\";\nfor(var i=0;i<MaterialDetails.length;i++){\n    var t = MaterialDetails[i];\n    if (t.remain==0){\n        node.send({payload:[{\n            EquipmentCode: \"OP90\",\n            EquipmentName: \"OP90\",\n            MaterialCode: t.code,\n            MaterialName: t.name,\n            LocationCode: \"L1\",\n            MaxTryNum: 1,\n        }],url: url});\n    }\n}\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 900,
        "wires": [
            [
                "e0216d35cb402cbb"
            ]
        ]
    },
    {
        "id": "e0216d35cb402cbb",
        "type": "http request",
        "z": "0ed9a07ea391dd22",
        "name": "GetLackMaterialsInfo",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 780,
        "y": 900,
        "wires": [
            [
                "fe31c4f5b61bc2eb"
            ]
        ]
    },
    {
        "id": "fe31c4f5b61bc2eb",
        "type": "debug",
        "z": "0ed9a07ea391dd22",
        "name": "调试 18",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1000,
        "y": 900,
        "wires": []
    },
    {
        "id": "879e05c683a3e472",
        "type": "http in",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "url": "/80/GetTrayInfo",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 160,
        "y": 1020,
        "wires": [
            [
                "23be5ea4ed10689f"
            ]
        ]
    },
    {
        "id": "23be5ea4ed10689f",
        "type": "function",
        "z": "0ed9a07ea391dd22",
        "name": "函数 12",
        "func": "var StationTask = global.get(\"StationTask_80\");\n\nvar arr = StationTask.ProcessDetail[0].MaterialDetails;\n\nvar arr2 = msg.payload.PortNumber;\n\nvar arr3 = [];\nfor (var i = 0; i < arr.length; i++) {\n    for (var i2 = 0; i2 < arr2.length; i2++) {\n        if (arr2[i2] == arr[i].LocationCode) {\n            arr3.push({\n                LocationCode: arr[i].LocationCode,\n                TotalNum: arr[i].layers.length,\n                Item: arr[i].layers,\n            });\n        }\n    }\n}\n\nvar data = {\n    Code: 0,\n    Msg: \"操作成功\",\n    Data: arr3,\n};\nmsg.payload = data;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 1020,
        "wires": [
            [
                "42eb1857563aab68"
            ]
        ]
    },
    {
        "id": "42eb1857563aab68",
        "type": "http response",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 510,
        "y": 1020,
        "wires": []
    },
    {
        "id": "fd7c4304e1e0f6e4",
        "type": "http in",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "url": "/80/ReceiveMaterialInfo",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 180,
        "y": 1080,
        "wires": [
            [
                "8854440cbbe3442e"
            ]
        ]
    },
    {
        "id": "8854440cbbe3442e",
        "type": "function",
        "z": "0ed9a07ea391dd22",
        "name": "函数 14",
        "func": "var StationTask = global.get(\"StationTask_80\");\n\nvar arr = StationTask.ProcessDetail[0].MaterialDetails;\nconsole.debug(arr);\nfor (var i = 0; i < arr.length; i++) {\n    var t = arr[i];\n    if (t.LocationCode == msg.payload.LocationCode) {\n        t.layers = msg.payload.Item;\n        //arr[i+1].layers = [];\n        console.debug(t.layers);\n        break;\n    }\n}\nmsg.payload = {\n    Code: 0,\n    Msg: \"操作成功\"\n};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 1080,
        "wires": [
            [
                "93080e03b04d1131"
            ]
        ]
    },
    {
        "id": "93080e03b04d1131",
        "type": "http response",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 530,
        "y": 1080,
        "wires": []
    },
    {
        "id": "9e9291c82e052d7e",
        "type": "function",
        "z": "0ed9a07ea391dd22",
        "name": "function 20",
        "func": "var ErrorMap_90 = global.get(\"ErrorMap_90\");\nmsg.payload ={\t\t\t\t\n\tEquipmentCode: \"OP90\",\t\t\t\n\tEquipmentName: \"先导阀装配\",\t\t\t\n\tStatus: 0,\n    WarnContent: ErrorMap_90[msg.payload]\t\t\n};\nmsg.url = global.get(\"LCS\")+\"receiveUbiquitousWarn\";\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 800,
        "wires": [
            [
                "5cc06bbd651b129a"
            ]
        ]
    },
    {
        "id": "f3c49b373184a805",
        "type": "http response",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1090,
        "y": 220,
        "wires": []
    },
    {
        "id": "c938d34e09d68ee4",
        "type": "http in",
        "z": "0ed9a07ea391dd22",
        "name": "工位任务接收",
        "url": "/80/ReceiveStationTask",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 110,
        "y": 240,
        "wires": [
            [
                "36619e542aba5288"
            ]
        ]
    },
    {
        "id": "a0092eea86d92c0c",
        "type": "http in",
        "z": "0ed9a07ea391dd22",
        "name": "泛在通用写多个接口",
        "url": "/80/WriteValue",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 130,
        "y": 620,
        "wires": [
            [
                "6a3735a3b253faf8"
            ]
        ]
    },
    {
        "id": "6a3735a3b253faf8",
        "type": "function",
        "z": "0ed9a07ea391dd22",
        "name": "modbus 报文拆分",
        "func": "var arr = msg.payload;\nfor(var i=0;i<arr.length;i++){\n    var t = arr[i];\n    msg.payload = { value: parseInt(t.Value), 'fc': 6, 'unitid': 1, 'address': parseInt(t.Address), 'quantity': 1 } \n    node.send(msg);\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 620,
        "wires": [
            [
                "98b8d2691dca6793"
            ]
        ]
    },
    {
        "id": "98b8d2691dca6793",
        "type": "modbus-flex-write",
        "z": "0ed9a07ea391dd22",
        "name": "批量修改modbus值",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "8b08ccb1dadce45a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 770,
        "y": 420,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "691f4907f25d5e2b",
        "type": "change",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "StationTask_80",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 680,
        "y": 240,
        "wires": [
            [
                "b1c462673f309b47"
            ]
        ]
    },
    {
        "id": "b1c462673f309b47",
        "type": "function",
        "z": "0ed9a07ea391dd22",
        "name": "反馈",
        "func": "msg.payload = {\n    Code: 0,\n    Msg:\"操作成功\"\n};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 930,
        "y": 240,
        "wires": [
            [
                "f3c49b373184a805"
            ]
        ]
    },
    {
        "id": "39c10f5357b6e371",
        "type": "http in",
        "z": "0ed9a07ea391dd22",
        "name": "ReceiveEndSignal",
        "url": "/80/ReceiveEndSignal",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 130,
        "y": 120,
        "wires": [
            [
                "ad3f7e483b265d37"
            ]
        ]
    },
    {
        "id": "48e2cd34c41e0cf0",
        "type": "http response",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 750,
        "y": 140,
        "wires": []
    },
    {
        "id": "70ae8bb0498d2b1a",
        "type": "function",
        "z": "0ed9a07ea391dd22",
        "name": "反馈",
        "func": "msg.payload = {\n    Code: 0,\n    Msg: \"操作成功\"\n};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 120,
        "wires": [
            [
                "48e2cd34c41e0cf0"
            ]
        ]
    },
    {
        "id": "ad3f7e483b265d37",
        "type": "switch",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "property": "payload.BillCode",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "StationTask_90.BillCode",
                "vt": "global"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 370,
        "y": 120,
        "wires": [
            [
                "00523132650e98ad",
                "70ae8bb0498d2b1a",
                "c937c9d35ef2f7e8"
            ],
            [
                "0306e5e277a70a68"
            ]
        ]
    },
    {
        "id": "00523132650e98ad",
        "type": "change",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO.production",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "0306e5e277a70a68",
        "type": "function",
        "z": "0ed9a07ea391dd22",
        "name": "反馈",
        "func": "msg.payload = {\n    Code: 1,\n    Msg: \"操作失败,当前设备执行的工单和下发的结束工单不一致\"\n};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 160,
        "wires": [
            [
                "48e2cd34c41e0cf0"
            ]
        ]
    },
    {
        "id": "f4290f4200caddbd",
        "type": "http response",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 770,
        "y": 280,
        "wires": []
    },
    {
        "id": "8c151f8624b8ee64",
        "type": "http in",
        "z": "0ed9a07ea391dd22",
        "name": "工位状态-轮询",
        "url": "/80/GetStationState",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 110,
        "y": 280,
        "wires": [
            [
                "312d03afb40a3ed8"
            ]
        ]
    },
    {
        "id": "312d03afb40a3ed8",
        "type": "function",
        "z": "0ed9a07ea391dd22",
        "name": "反馈",
        "func": "var IO = global.get(\"IO_80\");\nmsg.payload = {\n\t\"Code\": 0,\n\t\"Msg\": \"操作成功\",\n\t\"Data\": [{\n\t\t\"StationCode\": \"OP_80\",\n\t\t\"StationName\": \"先导阀组装A\",\n\t\t\"Status\": IO.AI.status\n\t}]\n};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 280,
        "wires": [
            [
                "f4290f4200caddbd"
            ]
        ]
    },
    {
        "id": "2db1929c03ea3aea",
        "type": "http in",
        "z": "0ed9a07ea391dd22",
        "name": "动作执行",
        "url": "/80/DoAction",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 80,
        "y": 360,
        "wires": [
            [
                "37c372a70ce118c4",
                "3629e0855689e5d7",
                "178fc4b256c29e3e"
            ]
        ]
    },
    {
        "id": "fe2cb743682890b3",
        "type": "function",
        "z": "0ed9a07ea391dd22",
        "name": "modbus 报文拆分",
        "func": "var t = msg.payload;\nif (t.Value == 0 && t.Address == 4080) {\n    t.RequestID = \"-\";\n}\nvar Request = global.get(\"Request_80\")\nRequest.RequestID = t.RequestID;\nvar t2 = (new Date()).toISOString();\nRequest.StartTime = t2;\nRequest.EndTime = \"\";\nglobal.set(\"torque\", [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);\n\nmsg.payload = { value: parseInt(t.Value), 'fc': 6, 'unitid': 1, 'address': parseInt(t.Address), 'quantity': 1 }\nnode.send(msg);",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 420,
        "wires": [
            [
                "98b8d2691dca6793",
                "8587d880509d0863"
            ]
        ]
    },
    {
        "id": "923d6985d026cfc9",
        "type": "switch",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "property": "Request_80.RequestID",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "-",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "-",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 295,
        "y": 360,
        "wires": [
            [
                "fe2cb743682890b3",
                "58cc1a92971be7a5"
            ],
            [
                "9a0d23d7b8dd6280"
            ]
        ],
        "l": false
    },
    {
        "id": "58cc1a92971be7a5",
        "type": "function",
        "z": "0ed9a07ea391dd22",
        "name": "反馈",
        "func": "msg.payload = {\n    Code: 0,\n    Msg: \"操作成功\"\n};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 300,
        "wires": [
            [
                "7ab02fc49140ef8c"
            ]
        ]
    },
    {
        "id": "7ab02fc49140ef8c",
        "type": "http response",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 610,
        "y": 320,
        "wires": []
    },
    {
        "id": "9a0d23d7b8dd6280",
        "type": "function",
        "z": "0ed9a07ea391dd22",
        "name": "反馈",
        "func": "msg.payload = {\n    Code: 1,\n    Msg: \"上一个动作还未完成\"\n};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 340,
        "wires": [
            [
                "7ab02fc49140ef8c"
            ]
        ]
    },
    {
        "id": "36619e542aba5288",
        "type": "function",
        "z": "0ed9a07ea391dd22",
        "name": "格式解析",
        "func": "msg.error = 0;\n\nvar task = global.get(\"StationTask_80\");\n// if(task.BillCode!='-'){\n//     msg.error = 1;\n//     msg.errorMsg = \"previese task is on going\";\n//     return msg;\n// }\n\nconst data = msg.payload;\nif((typeof(data)!='object')){\n    msg.error = 2;\n    msg.errorMsg = \"format wrong\";\n    return msg;\n}\n\nif (!('BillCode' in data)){\n    msg.error = 3;\n    msg.errorMsg = \"no BillCode\";\n    return msg;\n}\nif (!('ProductCode' in data)){\n    msg.error = 4;\n    msg.errorMsg = \"no ProductCode\";\n    return msg;\n}\n\nif (!('ProcessDetail' in data)){\n    msg.error = 5;\n    msg.errorMsg = \"no ProcessDetail\";\n    return msg;\n}\n\nif(data.ProcessDetail.length==1){\n    const data2 = data.ProcessDetail[0];\n    if (!('EquipmentCode' in data2)){\n        msg.error = 6;\n        msg.errorMsg = \"no EquipmentCode\";\n        return msg;\n    }\n    if(data2.EquipmentCode!='OP80'){\n        msg.error = 7;\n        msg.errorMsg = \"no OP80\";\n        return msg;\n    }\n    if (!('Num' in data2)){\n        msg.error = 8;\n        msg.errorMsg = \"no Num\";\n        return msg;\n    }\n    if (!('MaterialDetails' in data2)){\n        msg.error = 9;\n        msg.errorMsg = \"no MaterialDetails\";\n        return msg;\n    }\n\n    var arr_isMaterialIn = [1,1,1];\n    const _arr= [\n        \"M5x20\",\n        \"M6x85\",\n        \"XDF\"];\n    for(var i=0;i<data2.MaterialDetails.length;i++){\n        const data3 = data2.MaterialDetails[i];\n        if (!('MaterialCode' in data3)){\n            msg.error = 10;\n            msg.errorMsg = \"MaterialDetails is missing\";\n            return msg;\n        }\n        if (!('Num' in data3)){\n            msg.error = 11;\n            msg.errorMsg = \"Num is missing\";\n            return msg;\n        }   \n        data3.complated = 0;\n        // const a = _arr.indexOf(data3.MaterialCode);\n        // console.debug(a);\n        // if(a == -1){\n        //     msg.error = 12;\n        //     msg.errorMsg = \"MaterialCode is wrong \"+data3.MaterialCode;\n        //     return msg;\n        // }  \n        // arr_isMaterialIn[a] = 0;\n    }\n    // var __isMterialIn = 0;\n    // eval(\"__isMterialIn = \"+arr_isMaterialIn.join(\"+\")+\";\");\n    // if(__isMterialIn!=0){\n    //     msg.error = 14;\n    //     msg.errorMsg = __isMterialIn+\" materials are missing \";\n    //     return msg;\n    // }\n}\nelse{\n    msg.error = 13;\n    msg.errorMsg = \"ProcessDetail.length should be 1\";\n    return msg;\n}\n\n\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 240,
        "wires": [
            [
                "f9c8a9ac3c5633de",
                "b4469b3b451f28da"
            ]
        ]
    },
    {
        "id": "f9c8a9ac3c5633de",
        "type": "switch",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "property": "error",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 450,
        "y": 240,
        "wires": [
            [
                "691f4907f25d5e2b"
            ],
            [
                "b297b36fbd2f791d"
            ]
        ]
    },
    {
        "id": "b297b36fbd2f791d",
        "type": "function",
        "z": "0ed9a07ea391dd22",
        "name": "反馈",
        "func": "msg.payload = {\n    Code: 1,\n    Msg:\"失败\"+msg.errorMsg\n};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 200,
        "wires": [
            [
                "f3c49b373184a805"
            ]
        ]
    },
    {
        "id": "b4469b3b451f28da",
        "type": "debug",
        "z": "0ed9a07ea391dd22",
        "name": "debug 14",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 320,
        "y": 180,
        "wires": []
    },
    {
        "id": "c937c9d35ef2f7e8",
        "type": "change",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "StationTask_80.BillCode",
                "pt": "global",
                "to": "-",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "8587d880509d0863",
        "type": "link out",
        "z": "0ed9a07ea391dd22",
        "name": "调度生产",
        "mode": "link",
        "links": [
            "6dc8f569ff366e25",
            "6e1ec793dfb847f4",
            "05624c7d88b46e78",
            "4b9a77366feb96d2",
            "15b5fda78fac2e25"
        ],
        "x": 685,
        "y": 360,
        "wires": []
    },
    {
        "id": "1a57418033fe0137",
        "type": "switch",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "property": "IO_80.AI.status",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "22",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 225,
        "y": 360,
        "wires": [
            [
                "923d6985d026cfc9"
            ],
            [
                "f12d04b26351639b"
            ]
        ],
        "l": false
    },
    {
        "id": "f12d04b26351639b",
        "type": "function",
        "z": "0ed9a07ea391dd22",
        "name": "反馈",
        "func": "const IO = global.get(\"IO_80\");\nmsg.payload = {\n    Code: 1,\n    Msg: \"当前状态无法执行动作:\"+IO.AI.status,\n};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 380,
        "wires": [
            [
                "7ab02fc49140ef8c"
            ]
        ]
    },
    {
        "id": "53867554acb76cef",
        "type": "file",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "filename": "C:/tmp/request.txt",
        "filenameType": "str",
        "appendNewline": true,
        "createDir": false,
        "overwriteFile": "false",
        "encoding": "none",
        "x": 270,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "37c372a70ce118c4",
        "type": "function",
        "z": "0ed9a07ea391dd22",
        "name": "函数 25",
        "func": "var txt = msg.payload.Value + \",\"+msg.payload.Address + \",\" + msg.payload.RequestID;\nvar date = (new Date()).toISOString();\nmsg.payload = date + \" : \" + txt;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 115,
        "y": 320,
        "wires": [
            [
                "53867554acb76cef"
            ]
        ],
        "l": false
    },
    {
        "id": "3629e0855689e5d7",
        "type": "switch",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "property": "payload.Address",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "4080",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "4082",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 195,
        "y": 420,
        "wires": [
            [
                "1a57418033fe0137"
            ],
            [
                "06efce1d63129f69",
                "cf2fca5858ea925d",
                "f8b4952cd6a26e52"
            ]
        ],
        "l": false
    },
    {
        "id": "06efce1d63129f69",
        "type": "switch",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "property": "payload.Value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "3",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "11",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "12",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "13",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 6,
        "x": 265,
        "y": 440,
        "wires": [
            [],
            [],
            [],
            [
                "ebd437dab3c9e465"
            ],
            [
                "560741889282cad1"
            ],
            [
                "cb2098d058614f77"
            ]
        ],
        "l": false
    },
    {
        "id": "560741889282cad1",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "env": [
            {
                "name": "FanZai",
                "value": "3",
                "type": "num"
            }
        ],
        "x": 460,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "cb2098d058614f77",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "env": [
            {
                "name": "FanZai",
                "value": "4",
                "type": "num"
            }
        ],
        "x": 460,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "ebd437dab3c9e465",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "env": [
            {
                "name": "FanZai",
                "value": "2",
                "type": "num"
            }
        ],
        "x": 460,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "cf2fca5858ea925d",
        "type": "function",
        "z": "0ed9a07ea391dd22",
        "name": "AGV信号写入MODBUS",
        "func": "var IO = global.get(\"IO_80\");\nIO.AO_AGV.response = parseInt( msg.payload.Value);\nmsg.payload = { value: parseInt( msg.payload.Value), 'fc': 6, 'unitid': 1, 'address': parseInt( msg.payload.Address), 'quantity': 1 } \nnode.send(msg);",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 190,
        "y": 580,
        "wires": [
            [
                "98b8d2691dca6793"
            ]
        ]
    },
    {
        "id": "59ec4ff647c1f83e",
        "type": "inject",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 200,
        "y": 500,
        "wires": [
            [
                "560741889282cad1"
            ]
        ]
    },
    {
        "id": "de535775dcae35cd",
        "type": "function",
        "z": "0ed9a07ea391dd22",
        "name": "反馈",
        "func": "msg.payload = {\n    Code: 0,\n    Msg: \"成功调度AGV\",\n};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 500,
        "wires": [
            [
                "f1360bcc62325197"
            ]
        ]
    },
    {
        "id": "f1360bcc62325197",
        "type": "http response",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1075,
        "y": 500,
        "wires": [],
        "l": false
    },
    {
        "id": "f8b4952cd6a26e52",
        "type": "function",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "func": "const IO = global.get(\"IO_80\");\nIO.AO_AGV.response = parseInt( msg.payload.Value);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 690,
        "y": 500,
        "wires": [
            [
                "de535775dcae35cd"
            ]
        ]
    },
    {
        "id": "e6b235d23c0151dd",
        "type": "inject",
        "z": "0ed9a07ea391dd22",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 200,
        "y": 540,
        "wires": [
            [
                "cb2098d058614f77"
            ]
        ]
    },
    {
        "id": "178fc4b256c29e3e",
        "type": "function",
        "z": "0ed9a07ea391dd22",
        "name": "function 98",
        "func": "\nmsg.payload = {\n    device: \"OP80\",\n    key: \"request\",\n    value: parseInt(msg.payload.Value),\n    address: parseInt(msg.payload.Address),\n    requsetID: msg.payload.RequestID,\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 135,
        "y": 460,
        "wires": [
            [
                "32c8bc4fe7494017"
            ]
        ],
        "l": false
    },
    {
        "id": "32c8bc4fe7494017",
        "type": "influxdb out",
        "z": "0ed9a07ea391dd22",
        "influxdb": "cf9a8cc3cf8eaa5d",
        "name": "",
        "measurement": "log",
        "precision": "",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 195,
        "y": 460,
        "wires": [],
        "l": false
    },
    {
        "id": "3bcf26799f73d963",
        "type": "modbus-server",
        "z": "3b5216fa86e84cf0",
        "name": "OP80",
        "logEnabled": false,
        "hostname": "0.0.0.0",
        "serverPort": "10080",
        "responseDelay": 100,
        "delayUnit": "ms",
        "coilsBufferSize": 10000,
        "holdingBufferSize": 10000,
        "inputBufferSize": 10000,
        "discreteBufferSize": 10000,
        "showErrors": true,
        "x": 110,
        "y": 620,
        "wires": [
            [],
            [],
            [],
            [],
            []
        ]
    },
    {
        "id": "e5c13ce7b96e711b",
        "type": "modbus-read",
        "z": "3b5216fa86e84cf0",
        "name": "读取6轴modbus-do控制",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "90",
        "quantity": "37",
        "rate": "200",
        "rateUnit": "ms",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "967785e4049706c4",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 160,
        "y": 80,
        "wires": [
            [
                "abfcdf9120383db9"
            ],
            []
        ]
    },
    {
        "id": "57a41c47a33fd710",
        "type": "modbus-read",
        "z": "3b5216fa86e84cf0",
        "name": "读取控制器modbus-di控制",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "40",
        "quantity": "44",
        "rate": "200",
        "rateUnit": "ms",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "9644a7088aaca35d",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 170,
        "y": 180,
        "wires": [
            [
                "1ab3bd61098c4a2a",
                "0a971699a2633268"
            ],
            []
        ]
    },
    {
        "id": "1ab3bd61098c4a2a",
        "type": "modbus-write",
        "z": "3b5216fa86e84cf0",
        "name": "DI信号同步到6轴",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "",
        "dataType": "MHoldingRegisters",
        "adr": "40",
        "quantity": "44",
        "server": "967785e4049706c4",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 470,
        "y": 180,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "abfcdf9120383db9",
        "type": "modbus-write",
        "z": "3b5216fa86e84cf0",
        "name": "DO信号同步到控制器",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "1",
        "dataType": "MHoldingRegisters",
        "adr": "90",
        "quantity": "37",
        "server": "9644a7088aaca35d",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 480,
        "y": 80,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "8eb01bf9acb7562a",
        "type": "modbus-read",
        "z": "3b5216fa86e84cf0",
        "name": "读取控制器modbus-ao-逻辑变量",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "15",
        "quantity": "22",
        "rate": "200",
        "rateUnit": "ms",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "9644a7088aaca35d",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 190,
        "y": 300,
        "wires": [
            [
                "3d78fd4e5044cab1"
            ],
            []
        ]
    },
    {
        "id": "c337be33ef47db16",
        "type": "function",
        "z": "3b5216fa86e84cf0",
        "name": "写入到本地内存",
        "func": "var DI_Names = [\n    \"DI_JiTing\",\n    \"DI_QiDong\",\n    \"DI_TingZhi\",\n    \"DI_ZiDong\",\n    \"DI_ShouDong\",\n    \"DI_L_GunTong_DaoWei\",\n    \"DI_R_GunTong_DaoWei\",\n    \"-\",\n    \"DI_L_ShenJiang_DaoWei\",\n    \"DI_R_ShenJiang_DaoWei\",\n    \"DI_ZhuaPan1_DaKaiDaoWei\",\n    \"DI_ZhuaPan2_GuanBiWei\",\n    \"DI_ZhuaPan1_DaKaiDaoWei\",\n    \"DI_ZhuaPan2_GuanBiWei\",\n    \"DI_HengYi_YouLiao\",\n    \"-\",\n    \"DI_NingJin_ShenDaoWei1\",\n    \"DI_NingJin_SuoDaoWei\",\n    \"DI_HengYi_SongKaiDaoWei\",\n    \"DI_HengYi_JiaJinDaoWei\",\n    \"DI_M5_FenLi1_DaKaiDaoWei\",\n    \"DI_M5_FenLi1_GuanBiDaoWei\",\n    \"DI_M6_FenLi_DaKaiDaoWei\",\n    \"DI_M6_FenLi_GuanBiDaoWei\",\n    \"DI_HengYi_ShangShenDaoWei\",\n    \"DI_HengYi_XiaJiangDaoWei\",\n    \"DI_M5_SongLiao_GuanBiDaoWei\",\n    \"DI_M5_SongLiao_DaKaiDaoWei\",\n    \"-\",\n    \"-\",\n    \"DI_NingJin_ShenDaoWei2\",\n    \"-\",\n    \"DI_DingWei_GuanBiDaoWei1\",\n    \"DI_DingWei_DaKaiDaoWei1\",\n    \"DI_DingWei_GuanBiDaoWei2\",\n    \"DI_DingWei_DaKaiDaoWei2\",\n    \"DI_M6_FenLiao_DaKaiDaoWei\",\n    \"DI_M6_FenLiao_GuanBiDaoWei\",\n    \"DI_ROB_JiaJinDaoWei2\",\n    \"-\",\n    \"DI_DingWei_GuanBiDaoWei3\",\n    \"DI_DingWei_DaKaiDaoWei3\",\n    \"DI_M5_FenLi2_DaKaiDaoWei\",\n    \"DI_M5_FenLi2_GuanBiDaoWei\",\n    \"DI_M5_ZDP_YouLiao\",\n    \"DI_M6_ZDP_DaoKaiDaoWei1\",\n    \"DI_M6_ZDP_GuanBiDaoWei1\",\n    \"DI_M6_ZDP_DaoKaiDaoWei2\",\n    \"DI_M6_ZDP_YouLiao\",\n    \"DI_ROB_DaKaiDaoWei1\",\n    \"DI_ROB_JiaJinDaoWei1\",\n    \"DI_ZDP_ZhengFanJianCe\",\n    \"DI_FuWei\",\n    \"DI_LianJi\",\n    \"DI_DanBuQianJin\",\n    \"DI_DanBuHouTui\",\n    ];\n\nvar IO_80 = global.get(\"IO_80\");\nconst data = msg.payload;\nfor(var i=0;i<DI_Names.length;i++){\n    if(DI_Names[i]!='-'){\n        IO_80.DI[DI_Names[i]] = data[i];\n    }\n}\nglobal.set(\"IO_80\",IO_80);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "3d78fd4e5044cab1",
        "type": "function",
        "z": "3b5216fa86e84cf0",
        "name": "写入到本地内存",
        "func": "const data = msg.payload;\nvar IO = global.get(\"IO_80\");\nvar i = 0;\nIO.AI.Home = data[i]; i++;\nIO.AI.error_to_node_red = data[i]; i++;\nIO.AI.status = data[i]; i++;\nIO.AI.J1 = data[i]; i++;\nIO.AI.J2 = data[i]; i++;\nIO.AI.J3 = data[i]; i++;\nIO.AI.J4 = data[i]; i++;\nIO.AI.J5 = data[i]; i++;\nIO.AI.J6 = data[i]; i++;\nIO.AI.J7 = data[i]; i++;\nIO.AI.J8 = data[i]; i++;\nIO.AI.J9 = data[i]; i++;\nIO.AI.screw_reset = data[i]; i++;\nIO.AI.screw_run = data[i]; i++;\nIO.AI.screw_clockwise = data[i]; i++;\nIO.AI.screw_pause = data[i]; i++;\nIO.AI.screw_mode = data[i]; i++;\nIO.AI.Networking = data[i]; i++;\nIO.AI.response = data[i]; i++;\nIO.AI.request_vision = data[i]; i++;\nIO.AI.Md_home = data[i]; i++;\nIO.AI.error_code = data[i]; i++;\n\nIO.AO_screw.reset = IO.AI.screw_reset;\nIO.AO_screw.run = IO.AI.screw_run;\nIO.AO_screw.clockwise = IO.AI.screw_clockwise;\nIO.AO_screw.pause = IO.AI.screw_pause;\nIO.AO_screw.mode = IO.AI.screw_mode;\n\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 300,
        "wires": [
            [
                "7fb6a7e742e62bc5",
                "0763f9ea2e1142d0"
            ]
        ]
    },
    {
        "id": "83fa0339e5960b43",
        "type": "inject",
        "z": "3b5216fa86e84cf0",
        "name": "OP80数据初始化",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 40,
        "wires": [
            [
                "fb8a9610e83c1ed9"
            ]
        ]
    },
    {
        "id": "7935456f1150e60e",
        "type": "function",
        "z": "3b5216fa86e84cf0",
        "name": "IO初始化",
        "func": "var IO_80 = {\n    DO:{},\n    DI:{\n        DI_Jiting:0,\n        DI_QiDong:0,\n        DI_TingZhi:0,\n        DI_ShouZiDong:0,\n        DI_R_GunTong_DaoWei:0,\n        DI_L_GunTong_DaoWei:0,\n        DI_ShiNeng:0,\n        DI_L_ShenJiang_DaoWei:0,\n        DI_R_ShenJiang_DaoWei:0,\n        DI_ZhuaPan1_DaKaiDaoWei:0,\n        DI_ZhuaPan1_GuanBiWei:0,\n        DI_ZhuaPan2_DaKaiDaoWei:0,\n        DI_ZhuaPan2_GuanBiWei:0,\n        DI_HengYi_YouLiao:0,\n        DI_HengYi_SongKaiDaoWei:0,\n        DI_HengYi_JiaJinDaoWei:0,\n        DI_LuoSiQiang_shangshen:0,\n        DI_LuoSiQiang_xiajiang:0,\n        DI_M5_LuoSi_fenli_guanbi:0,\n        DI_M5_LuoSi_fenli_dakai:0,\n        DI_M6_LuoSi_fenli_dakai:0,\n        DI_M6_LuoSi_fenli_guanbi:0,\n        DI_Hengyi_xiajiang_Daowei:0,\n        DI_Hengyi_shangshen_Daowei:0,\n        DI_M5_Songliao_Dakai_1:0,\n        DI_M5_Songliao_Guanbi_1:0,\n        DI_M5_Songliao_Dakai_2:0,\n        DI_M5_Songliao_Guanbi_2:0,\n        DI_M6_LuoSi_Geli:0,\n        DI_M5_LuoSi_Geli_dakai:0,\n        DI_M5_LuoSi_Geli_guanbi:0,\n        DI_M6_ZDP_DaoKaiDaoWei1:0,\n        DI_M6_ZDP_GuanBiDaoWei1:0,\n        DI_M6_ZDP_DaoKaiDaoWei2:0,\n        DI_ZDP_ZhengFanJianCe:0,\n        DI_Error_Fuwei:0,\n        DI_Lianji:0,\n        DI_ZhiXing:0,\n    },\n    AI:{//node-red收到来自控制器的逻辑变量\n        Home: 0,\n        error_to_node_red: 0,\n        status: 0,\n        J1: 0,\n        J2: 0,\n        J3: 0,\n        J4: 0,\n        J5: 0,\n        J6: 0,\n        J7: 0,\n        J8: 0,\n        J9: 0,\n        screw_reset: 0,\n        screw_run: 0,\n        screw_clockwise: 0,\n        screw_pause: 0,\n        screw_mode: 0,\n        Networking: 0,\n        response: 0,\n        request_vision: 0,\n        Md_home: 0,\n        error_code: 0,\n    },\n    AO:{//node-red要发送下去的逻辑变量\n        work_object: 0,\n        LCS_command: 0,\n        screw_status: 0,\n        LCS_speed: 0,\n        tray_in_count: 0,\n        tray_out_count: 0,\n        material_status: 0,\n        vision_truss_x: 0,\n        Robot_6_Joint_Ready: 0,\n        request: 0,\n        index_screw: 0,\n        index_assembled: 0,\n        response_vision: 0,\n        index_screw_insert: 0,\n        AGV_Daowei: 0,\n    },    \n    AI_6axes:{\n        status: 0,\n        request_vision: 0,\n        response: 0,\n    },\n\n    AO_6axes:{\n        work_object: 0,\n        LCS: 0,\n        XianDao_Kind: 0,\n        M5_DaoKong: 0,\n        M6_DaoKong: 0,\n        Vision_X_1: 0,\n        Vision_Y_1: 0,\n        Vision_QueXian: 0,\n        request: 0,\n        index_assembled: 0,\n        index_top_tray: 0,\n        response_vision: 0,\n    },\n    AI_LCS:{\n        request: 0,\n    },\n    AO_LCS:{\n        response: 0,\n    },\n    AI_AGV:{\n        request: 0,\n    },\n    AO_AGV:{\n        response: 0,\n    },        \n    AI_screw:{\n        status: 0,\n        error: 0,\n        torque: 0,\n    },\n    AO_screw:{\n        reset : 0,\n        run : 0,\n        clockwise : 0,\n        pause : 0,     \n        mode : 0, \n    }       \n};\n\nglobal.set(\"IO_80\",IO_80);\nglobal.set(\"torque\", [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 40,
        "wires": [
            [
                "52e5c80254d5ee2a"
            ]
        ]
    },
    {
        "id": "2b60c027eb43fa05",
        "type": "modbus-read",
        "z": "3b5216fa86e84cf0",
        "name": "6轴机械臂modbus-ao-逻辑变量",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "15",
        "quantity": "22",
        "rate": "200",
        "rateUnit": "ms",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "967785e4049706c4",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 190,
        "y": 360,
        "wires": [
            [
                "24de9f2ffc261c53"
            ],
            []
        ]
    },
    {
        "id": "24de9f2ffc261c53",
        "type": "function",
        "z": "3b5216fa86e84cf0",
        "name": "写入到本地内存",
        "func": "const data = msg.payload;\nvar IO = global.get(\"IO_80\");\nvar i = 0;\nIO.AI_6axes.Home = data[i]; i++;\nIO.AI_6axes.error_to_node_red = data[i]; i++;\nIO.AI_6axes.status = data[i]; i++;\nIO.AI_6axes.J1 = data[i]; i++;\nIO.AI_6axes.J2 = data[i]; i++;\nIO.AI_6axes.J3 = data[i]; i++;\nIO.AI_6axes.J4 = data[i]; i++;\nIO.AI_6axes.J5 = data[i]; i++;\nIO.AI_6axes.J6 = data[i]; i++;\nIO.AI_6axes.J7 = data[i]; i++;\nIO.AI_6axes.J8 = data[i]; i++;\nIO.AI_6axes.J9 = data[i]; i++;\nIO.AI_6axes.screw_reset = data[i]; i++;\nIO.AI_6axes.screw_run = data[i]; i++;\nIO.AI_6axes.screw_clockwise = data[i]; i++;\nIO.AI_6axes.screw_pause = data[i]; i++;\nIO.AI_6axes.screw_mode = data[i]; i++;\nIO.AI_6axes.Networking = data[i]; i++;\nIO.AI_6axes.response = data[i]; i++;\nIO.AI_6axes.request_vision = data[i]; i++;\n\nIO.AI_6axes.Md_home = data[i]; i++;\nIO.AI_6axes.error_code = data[i]; i++;\n\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 360,
        "wires": [
            [
                "5df41b156becd0d7",
                "00527d6cb0f538d5"
            ]
        ]
    },
    {
        "id": "0a971699a2633268",
        "type": "modbus-write",
        "z": "3b5216fa86e84cf0",
        "name": "DI信号同步到虚拟modbus",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "",
        "dataType": "MCoils",
        "adr": "40",
        "quantity": "44",
        "server": "8b08ccb1dadce45a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 490,
        "y": 240,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "398ca89e7aedb8db",
        "type": "modbus-write",
        "z": "3b5216fa86e84cf0",
        "name": "写入到泛在控制器",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "",
        "dataType": "MHoldingRegisters",
        "adr": "0",
        "quantity": "15",
        "server": "9644a7088aaca35d",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 730,
        "y": 480,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "2dc73bd065955c8d",
        "type": "function",
        "z": "3b5216fa86e84cf0",
        "name": "写入到泛在控制器",
        "func": "\nvar IO = global.get(\"IO_80\");\nIO.AO.screw_status = IO.AI_screw.status;\nvar data = [\n    IO.AO.work_object,\n    IO.AO.LCS_command,\n    IO.AO.screw_status,\n    IO.AO.LCS_speed,\n    IO.AO.tray_in_count,\n    IO.AO.tray_out_count,\n    IO.AO.material_status,\n    IO.AO.vision_truss_x,\n    IO.AO.Robot_6_Joint_Ready,\n    IO.AO.request,\n    IO.AO.index_screw,\n    IO.AO.index_assembled,\n    IO.AO.response_vision,\n    IO.AO.index_screw_insert,\n    IO.AO.AGV_Daowei,\n]\nmsg.payload = data;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 480,
        "wires": [
            [
                "398ca89e7aedb8db"
            ]
        ]
    },
    {
        "id": "2a3a5be77c6b5d35",
        "type": "modbus-write",
        "z": "3b5216fa86e84cf0",
        "name": "同步6轴request",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "9",
        "quantity": "1",
        "server": "967785e4049706c4",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 740,
        "y": 540,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "f51777edb24f4a29",
        "type": "modbus-read",
        "z": "3b5216fa86e84cf0",
        "name": "LCS 调度命令读取",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "4090",
        "quantity": "7",
        "rate": "200",
        "rateUnit": "ms",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "8b08ccb1dadce45a",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 150,
        "y": 420,
        "wires": [
            [
                "d60024e9414279eb"
            ],
            []
        ]
    },
    {
        "id": "d60024e9414279eb",
        "type": "function",
        "z": "3b5216fa86e84cf0",
        "name": "写入到本地内存",
        "func": "\nconst data = msg.payload;\nvar IO = global.get(\"IO_80\");\nvar i = 0;\nIO.AI_LCS.request = data[i]; i++;\n\n\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "33daa1b70b329a4d",
        "type": "function",
        "z": "3b5216fa86e84cf0",
        "name": "发送给LCS呼叫AGV",
        "func": "var data = [];\nvar IO = global.get(\"IO_80\");\ndata.push(IO.AO_LCS.Pos_In);\ndata.push(IO.AO_LCS.Pos_Out);\n\nmsg.payload = data;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 700,
        "wires": [
            [
                "39a996cf72ad3212"
            ]
        ]
    },
    {
        "id": "39a996cf72ad3212",
        "type": "modbus-write",
        "z": "3b5216fa86e84cf0",
        "name": "写入到虚拟modbus",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "",
        "dataType": "MHoldingRegisters",
        "adr": "0",
        "quantity": "100",
        "server": "8b08ccb1dadce45a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 730,
        "y": 700,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "52e5c80254d5ee2a",
        "type": "function",
        "z": "3b5216fa86e84cf0",
        "name": "物料-视觉-工单 初始化",
        "func": "\nvar ErrorMap_80 = [\n    \"视觉通信故障\",\n    \"螺丝刀通信故障\",\n    \"伺服1故障\",\n    \"伺服2故障\",\n    \"伺服3故障\",\n    \"伺服4故障\",   \n    \"伺服5故障\",\n    \"伺服6故障\",\n    \"伺服7故障\",\n    ];\n    \nglobal.set(\"StationTask_80\",{\n    BillCode: \"-\",\n    ProductCode: \"-\",\n    ProductName:\"-\",\n    ProcessDetail: [{\n        ProcessCode: \"OP80\",\n        ProcessName: \"-\",\n        EquipmentCode: \"OP80\",\n        ProgramNumer: 1,\n        Num: 0,\n        MaterialDetails: [\n            {\n                MaterialCode: \"XDF\",\n                MaterialName: \"先导阀\",\n                Num: 0,\n                consumption: 15,\n                remain: 0,\n                used: 0,\n                layers: [],\n                LocationCode: \"OP80_IN\",\n            },\n            {\n                MaterialCode: \"-\",\n                MaterialName: \"-\",\n                Num: 0,\n                consumption: 15,\n                remain: 0,\n                used: 0,\n                layers: [],\n                LocationCode: \"OP80_OUT\",\n            },\n        ]\n    }]\n});\n\n\nglobal.set(\"ErrorMap_80\", ErrorMap_80);\nconst t = (new Date()).toISOString();\nglobal.set(\"Request_80\", {\n    StartTime: t,\n    EndTime: t,\n    RequestID: \"-\",\n    RequestID_: \"-\",\n    barcode: \"\",\n});\nglobal.set(\"LCS\", \"http://192.168.110.200:9006/openApiUbiquitous/\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "fb8a9610e83c1ed9",
        "type": "function",
        "z": "3b5216fa86e84cf0",
        "name": "定义变量名",
        "func": "global.set(\"ns\",{\n    truss3_vission:1,\n    panel_in_in:2,\n    panel_out_out:3,\n    panel_in_out:4,\n    truss2_screw:5,\n    truss3_screw:6,\n    all_home:7,\n    panel_shift:8,\n    truss2_release:9,\n    loader_home:10,\n        \n    truss3_vission_done:101,\n    panel_in_in_done:102,\n    panel_out_out_done:103,\n    panel_in_out_done:104,\n    truss2_screw_done:105,\n    truss3_screw_done:106,\n    all_home_done:107,\n    panel_shift_done:108,\n    truss2_release_done:109,\n    loader_home_done:110,  \n    \n    robot_moveToVission: 1,\n    robot_pick:2,\n    robot_grabToVission: 3,\n    robot_placeToTrash: 4,\n    robot_placeToProduct: 5,\n    robot_home: 6,\n    \n    robot_moveToVission_done:101,\n    robot_pick_done:102,\n    robot_grabToVission_done:103,\n    robot_placeToProduct_done:104,\n    robot_placeToTrash_done:105,\n    robot_home_done:106,\n    \n    LCS_start:1,\n    LCS_stop:2,\n    LCS_pause:3,\n    LCS_resume:4,\n    LCS_run:5,\n    \n    \n    vission_success: 1,\n    vission_fail: 2,\n    \n    tray_corner_1:101,\n    tray_corner_2:102,\n    tray_corner_3:103,\n    tray_corner_4:104,\n    material_check_1:201,\n    material_check_2:202,\n    screw_check:301,\n    \n    screw_product: 401,\n    \n    \n});\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 40,
        "wires": [
            [
                "7935456f1150e60e"
            ]
        ]
    },
    {
        "id": "3f333be6e9d1af15",
        "type": "function",
        "z": "3b5216fa86e84cf0",
        "name": "螺丝刀数据",
        "func": "\nvar IO = global.get(\"IO_90\");\nIO.AO_screw.reset = IO.AI.screw_reset;\nIO.AO_screw.run = IO.AI.screw_run;\nIO.AO_screw.clockwise = IO.AI.screw_clockwise;\nIO.AO_screw.pause = IO.AI.screw_pause;\nIO.AO_screw.mode = IO.AI.screw_mode;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "25c8ab4eb8155ac7",
        "type": "http in",
        "z": "3b5216fa86e84cf0",
        "name": "",
        "url": "/80/data",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 110,
        "y": 820,
        "wires": [
            [
                "0b9d3b84d0538dc7"
            ]
        ]
    },
    {
        "id": "90978ca684a0d7d2",
        "type": "http response",
        "z": "3b5216fa86e84cf0",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 570,
        "y": 820,
        "wires": []
    },
    {
        "id": "0b9d3b84d0538dc7",
        "type": "function",
        "z": "3b5216fa86e84cf0",
        "name": "function 28",
        "func": "const p = msg.payload.key;\nvar arr = p.split(\".\");\nconsole.debug(arr);\nconst obj = global.get(arr[0]);\neval(\"var \"+arr[0]+\" = obj;\");\nconsole.debug(1);\neval(\"msg.payload = \"+p+\";\");\nconsole.debug(2);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 820,
        "wires": [
            [
                "90978ca684a0d7d2"
            ]
        ]
    },
    {
        "id": "fae6954da3903224",
        "type": "inject",
        "z": "3b5216fa86e84cf0",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 520,
        "wires": [
            [
                "8017142c59dab4bb"
            ]
        ]
    },
    {
        "id": "8017142c59dab4bb",
        "type": "trigger",
        "z": "3b5216fa86e84cf0",
        "name": "",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "-250",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 310,
        "y": 520,
        "wires": [
            [
                "7de97e9bb25b4344",
                "2956164e105931fc",
                "2dc73bd065955c8d"
            ]
        ]
    },
    {
        "id": "7de97e9bb25b4344",
        "type": "function",
        "z": "3b5216fa86e84cf0",
        "name": "request",
        "func": "\nvar IO = global.get(\"IO_80\");\nmsg.payload = IO.AO_6axes.request;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 540,
        "wires": [
            [
                "2a3a5be77c6b5d35"
            ]
        ]
    },
    {
        "id": "2956164e105931fc",
        "type": "function",
        "z": "3b5216fa86e84cf0",
        "name": "index_top_tray",
        "func": "\nvar IO = global.get(\"IO_80\");\n\nmsg.payload = IO.AO_6axes.index_top_tray;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 580,
        "wires": [
            [
                "691084f7f18e9a63"
            ]
        ]
    },
    {
        "id": "691084f7f18e9a63",
        "type": "modbus-write",
        "z": "3b5216fa86e84cf0",
        "name": "同步6轴index_top_tray",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "4",
        "quantity": "1",
        "server": "967785e4049706c4",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 760,
        "y": 580,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "5c5f4509c66420c0",
        "type": "http in",
        "z": "3b5216fa86e84cf0",
        "name": "",
        "url": "/changeData",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 150,
        "y": 920,
        "wires": [
            [
                "faed85b5e4f2a99e",
                "3ffc5653818b3dd8"
            ]
        ]
    },
    {
        "id": "61c9a744120e87c0",
        "type": "http response",
        "z": "3b5216fa86e84cf0",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 730,
        "y": 920,
        "wires": []
    },
    {
        "id": "faed85b5e4f2a99e",
        "type": "function",
        "z": "3b5216fa86e84cf0",
        "name": "function 62",
        "func": "const p = msg.payload.key;\nconst v = msg.payload.value;\nvar arr = p.split(\".\");\nlet obj = global.get(arr[0]);\neval(\"var \"+arr[0]+\" = obj;\");\nconsole.debug(1);\neval(p+\" = \"+v+\";\");\nconsole.debug(2);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 920,
        "wires": [
            [
                "61c9a744120e87c0",
                "94ce6e608617d3c7"
            ]
        ]
    },
    {
        "id": "3ffc5653818b3dd8",
        "type": "debug",
        "z": "3b5216fa86e84cf0",
        "name": "debug 64",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 360,
        "y": 1060,
        "wires": []
    },
    {
        "id": "86206a7846918696",
        "type": "switch",
        "z": "3b5216fa86e84cf0",
        "name": "",
        "property": "payload.key",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "IO_80.AO.request",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "IO_80.AO_6axes.request",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 510,
        "y": 1000,
        "wires": [
            [
                "cca1862443e4bf07"
            ],
            [
                "f9dc78406e12f914"
            ]
        ]
    },
    {
        "id": "cca1862443e4bf07",
        "type": "change",
        "z": "3b5216fa86e84cf0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO.request",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 800,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "f9dc78406e12f914",
        "type": "change",
        "z": "3b5216fa86e84cf0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO_6axes.request",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 1000,
        "wires": [
            []
        ]
    },
    {
        "id": "94ce6e608617d3c7",
        "type": "delay",
        "z": "3b5216fa86e84cf0",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 415,
        "y": 1000,
        "wires": [
            [
                "86206a7846918696"
            ]
        ],
        "l": false
    },
    {
        "id": "1111955fa8f6272f",
        "type": "inject",
        "z": "3b5216fa86e84cf0",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 680,
        "y": 100,
        "wires": [
            [
                "52e5c80254d5ee2a"
            ]
        ]
    },
    {
        "id": "7fb6a7e742e62bc5",
        "type": "change",
        "z": "3b5216fa86e84cf0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "IO_80.AI.status",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 625,
        "y": 280,
        "wires": [
            [
                "0cede133bb0a1523"
            ]
        ],
        "l": false
    },
    {
        "id": "0cede133bb0a1523",
        "type": "rbe",
        "z": "3b5216fa86e84cf0",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 685,
        "y": 280,
        "wires": [
            [
                "e6e37d753b4d1079"
            ]
        ],
        "l": false
    },
    {
        "id": "e6e37d753b4d1079",
        "type": "function",
        "z": "3b5216fa86e84cf0",
        "name": "function 94",
        "func": "\nmsg.payload = {\n    device: \"OP80\",\n    key: \"status\",\n    value: msg.payload\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 745,
        "y": 280,
        "wires": [
            [
                "57755bbb5e2bc8fe"
            ]
        ],
        "l": false
    },
    {
        "id": "0763f9ea2e1142d0",
        "type": "change",
        "z": "3b5216fa86e84cf0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "IO_80.AI.response",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 625,
        "y": 320,
        "wires": [
            [
                "b049d6bfa320026d"
            ]
        ],
        "l": false
    },
    {
        "id": "b049d6bfa320026d",
        "type": "rbe",
        "z": "3b5216fa86e84cf0",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 685,
        "y": 320,
        "wires": [
            [
                "5039ec81482a93ae"
            ]
        ],
        "l": false
    },
    {
        "id": "5039ec81482a93ae",
        "type": "function",
        "z": "3b5216fa86e84cf0",
        "name": "function 95",
        "func": "\nmsg.payload = {\n    device: \"OP80\",\n    key: \"response\",\n    value: msg.payload\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 745,
        "y": 320,
        "wires": [
            [
                "57755bbb5e2bc8fe"
            ]
        ],
        "l": false
    },
    {
        "id": "5df41b156becd0d7",
        "type": "change",
        "z": "3b5216fa86e84cf0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "IO_80.AI_6axes.status",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 625,
        "y": 360,
        "wires": [
            [
                "638ba8e45a1dd65f"
            ]
        ],
        "l": false
    },
    {
        "id": "638ba8e45a1dd65f",
        "type": "rbe",
        "z": "3b5216fa86e84cf0",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 685,
        "y": 360,
        "wires": [
            [
                "918374a7184b48ec"
            ]
        ],
        "l": false
    },
    {
        "id": "918374a7184b48ec",
        "type": "function",
        "z": "3b5216fa86e84cf0",
        "name": "function 96",
        "func": "\nmsg.payload = {\n    device: \"OP80\",\n    key: \"status_6axes\",\n    value: msg.payload\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 745,
        "y": 360,
        "wires": [
            [
                "57755bbb5e2bc8fe"
            ]
        ],
        "l": false
    },
    {
        "id": "00527d6cb0f538d5",
        "type": "change",
        "z": "3b5216fa86e84cf0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "IO_80.AI_6axes.response",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 625,
        "y": 400,
        "wires": [
            [
                "241e0f647d8bf26b"
            ]
        ],
        "l": false
    },
    {
        "id": "241e0f647d8bf26b",
        "type": "rbe",
        "z": "3b5216fa86e84cf0",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 685,
        "y": 400,
        "wires": [
            [
                "a5a8fe1ec2bddcf8"
            ]
        ],
        "l": false
    },
    {
        "id": "a5a8fe1ec2bddcf8",
        "type": "function",
        "z": "3b5216fa86e84cf0",
        "name": "function 97",
        "func": "\nmsg.payload = {\n    device: \"OP80\",\n    key: \"response_6axes\",\n    value: msg.payload\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 745,
        "y": 400,
        "wires": [
            [
                "57755bbb5e2bc8fe"
            ]
        ],
        "l": false
    },
    {
        "id": "57755bbb5e2bc8fe",
        "type": "influxdb out",
        "z": "3b5216fa86e84cf0",
        "influxdb": "cf9a8cc3cf8eaa5d",
        "name": "",
        "measurement": "log",
        "precision": "",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 855,
        "y": 340,
        "wires": [],
        "l": false
    },
    {
        "id": "89d969576c71907b",
        "type": "modbus-read",
        "z": "3b5216fa86e84cf0",
        "name": "AGV反馈读取",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "4082",
        "quantity": "1",
        "rate": "200",
        "rateUnit": "ms",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "8b08ccb1dadce45a",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 130,
        "y": 780,
        "wires": [
            [
                "f59907473c6740d1"
            ],
            []
        ]
    },
    {
        "id": "f59907473c6740d1",
        "type": "function",
        "z": "3b5216fa86e84cf0",
        "name": "写入到本地内存",
        "func": "\n\nvar IO = global.get(\"IO_80\");\nIO.AGV = {};\nIO.AGV.response = msg.payload[0];\n\n\n\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "2a80fca02ce33f08",
        "type": "modbus-read",
        "z": "0aceb91922d497d0",
        "name": "螺丝刀-83",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "",
        "dataType": "HoldingRegister",
        "adr": "31",
        "quantity": "2",
        "rate": "200",
        "rateUnit": "ms",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "b73080d51bca954d",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 120,
        "y": 80,
        "wires": [
            [
                "db17f68c9dd546f0",
                "ccc89f4b137c75d6",
                "53b18cf363b9bdfc"
            ],
            []
        ]
    },
    {
        "id": "db17f68c9dd546f0",
        "type": "debug",
        "z": "0aceb91922d497d0",
        "name": "调试 1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 270,
        "y": 80,
        "wires": []
    },
    {
        "id": "dbcf207b20ea3687",
        "type": "modbus-write",
        "z": "0aceb91922d497d0",
        "name": "螺丝刀-控制",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "3",
        "quantity": "1",
        "server": "b73080d51bca954d",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1030,
        "y": 240,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "2a8d34fca97e4058",
        "type": "inject",
        "z": "0aceb91922d497d0",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 730,
        "y": 240,
        "wires": [
            [
                "dbcf207b20ea3687"
            ]
        ]
    },
    {
        "id": "2c1198ed8c6d61f5",
        "type": "inject",
        "z": "0aceb91922d497d0",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "8",
        "payloadType": "num",
        "x": 730,
        "y": 280,
        "wires": [
            [
                "dbcf207b20ea3687"
            ]
        ]
    },
    {
        "id": "884e04237bfbda8e",
        "type": "inject",
        "z": "0aceb91922d497d0",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 730,
        "y": 320,
        "wires": [
            [
                "dbcf207b20ea3687"
            ]
        ]
    },
    {
        "id": "e8e78ece20beaef8",
        "type": "trigger",
        "z": "0aceb91922d497d0",
        "name": "",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "-250",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 390,
        "y": 180,
        "wires": [
            [
                "eb37fbc14097f749",
                "e69ca90dc3f2c992"
            ]
        ]
    },
    {
        "id": "eb37fbc14097f749",
        "type": "function",
        "z": "0aceb91922d497d0",
        "name": "控制",
        "func": "var val = 0;\nconst IO = global.get(\"IO_80\");\nif (IO.AO_screw.run==1){\n    val += 1;\n}\nif (IO.AO_screw.clockwise==1){\n    val += 2;\n}\nif (IO.AO_screw.pause == 1) {\n    val += 4;\n}\nif (IO.AO_screw.reset == 1) {\n    val += 8;\n}\nmsg.payload = val;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 180,
        "wires": [
            [
                "f6e420c9a1fc7f7b"
            ]
        ]
    },
    {
        "id": "1ffddf51f01e9d58",
        "type": "modbus-read",
        "z": "0aceb91922d497d0",
        "name": "螺丝刀-83-扭力反馈",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "",
        "dataType": "HoldingRegister",
        "adr": "25",
        "quantity": "2",
        "rate": "200",
        "rateUnit": "ms",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "b73080d51bca954d",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 510,
        "y": 80,
        "wires": [
            [
                "e4e15c5fc07fe382"
            ],
            []
        ]
    },
    {
        "id": "e4e15c5fc07fe382",
        "type": "function",
        "z": "0aceb91922d497d0",
        "name": "完成扭矩",
        "func": "var data = msg.payload[0] + msg.payload[1] * 0xff;\nif (!Number.isNaN(data)) {\n    msg.payload = data;\n    return msg;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 80,
        "wires": [
            [
                "c2b844d098ce39d4"
            ]
        ]
    },
    {
        "id": "c2b844d098ce39d4",
        "type": "change",
        "z": "0aceb91922d497d0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AI_screw.torque",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 940,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "7ec0322db0b6da1a",
        "type": "inject",
        "z": "0aceb91922d497d0",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "2",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 200,
        "y": 180,
        "wires": [
            [
                "e8e78ece20beaef8"
            ]
        ]
    },
    {
        "id": "f9c9bf6a8355b1fa",
        "type": "inject",
        "z": "0aceb91922d497d0",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "4",
        "payloadType": "num",
        "x": 730,
        "y": 360,
        "wires": [
            [
                "dbcf207b20ea3687"
            ]
        ]
    },
    {
        "id": "f6e420c9a1fc7f7b",
        "type": "rbe",
        "z": "0aceb91922d497d0",
        "name": "",
        "func": "rbei",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 755,
        "y": 180,
        "wires": [
            [
                "dbcf207b20ea3687",
                "2142e387b8d18ca4"
            ]
        ],
        "l": false
    },
    {
        "id": "46a47cc1a6b4083c",
        "type": "modbus-write",
        "z": "0aceb91922d497d0",
        "name": "螺丝刀-模式",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "48",
        "quantity": "1",
        "server": "b73080d51bca954d",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1030,
        "y": 420,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "3c27be35ade8a32a",
        "type": "inject",
        "z": "0aceb91922d497d0",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "12",
        "payloadType": "num",
        "x": 730,
        "y": 480,
        "wires": [
            [
                "46a47cc1a6b4083c"
            ]
        ]
    },
    {
        "id": "b0f68a4e7f5078ad",
        "type": "inject",
        "z": "0aceb91922d497d0",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 730,
        "y": 520,
        "wires": [
            [
                "46a47cc1a6b4083c"
            ]
        ]
    },
    {
        "id": "4b44deb1437a610c",
        "type": "rbe",
        "z": "0aceb91922d497d0",
        "name": "",
        "func": "rbei",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 765,
        "y": 420,
        "wires": [
            [
                "46a47cc1a6b4083c"
            ]
        ],
        "l": false
    },
    {
        "id": "2142e387b8d18ca4",
        "type": "debug",
        "z": "0aceb91922d497d0",
        "name": "调试 21",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1020,
        "y": 140,
        "wires": []
    },
    {
        "id": "e69ca90dc3f2c992",
        "type": "function",
        "z": "0aceb91922d497d0",
        "name": "模式",
        "func": "const IO = global.get(\"IO_80\");\nmsg.payload = IO.AO_screw.mode;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 420,
        "wires": [
            [
                "4b44deb1437a610c"
            ]
        ]
    },
    {
        "id": "ccc89f4b137c75d6",
        "type": "function",
        "z": "0aceb91922d497d0",
        "name": "函数 38",
        "func": "var error = msg.payload[0];\nvar result = msg.payload[1];\nvar IO = global.get(\"IO_80\");\nif (result == 1 && error > 0) {\n    IO.AI_screw.status = 3;\n}\nelse {\n    IO.AI_screw.status = result;\n}\nIO.AI_screw.error = error;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "53b18cf363b9bdfc",
        "type": "change",
        "z": "0aceb91922d497d0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload[1]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 245,
        "y": 40,
        "wires": [
            [
                "7d2274a9925015b8"
            ]
        ],
        "l": false
    },
    {
        "id": "7d2274a9925015b8",
        "type": "rbe",
        "z": "0aceb91922d497d0",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 305,
        "y": 40,
        "wires": [
            [
                "aafb606891a6a420"
            ]
        ],
        "l": false
    },
    {
        "id": "aafb606891a6a420",
        "type": "switch",
        "z": "0aceb91922d497d0",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 355,
        "y": 40,
        "wires": [
            [
                "fb5620700b1981ea"
            ]
        ],
        "l": false
    },
    {
        "id": "fb5620700b1981ea",
        "type": "function",
        "z": "0aceb91922d497d0",
        "name": "扭力数组",
        "func": "var torques = global.get(\"torque\");\nvar IO = global.get(\"IO_80\");\ntorques.push(IO.AI_screw.torque);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "4f9e1dd4adb757bb",
        "type": "function",
        "z": "6b25f2664a9c5aec",
        "name": "开始下一次装配",
        "func": "\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 340,
        "wires": [
            [
                "010fdfdbef0a59e0"
            ]
        ]
    },
    {
        "id": "893ee25836f4e34a",
        "type": "function",
        "z": "6b25f2664a9c5aec",
        "name": "直接结束到下一个流程",
        "func": "\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2880,
        "y": 220,
        "wires": [
            [
                "34b57a971eb27428"
            ]
        ]
    },
    {
        "id": "93e7ec528560151a",
        "type": "subflow:54f147592a602955",
        "z": "6b25f2664a9c5aec",
        "name": "放置到顶螺丝",
        "env": [
            {
                "name": "6axes",
                "value": "1",
                "type": "num"
            }
        ],
        "x": 1220,
        "y": 260,
        "wires": [
            [
                "8331caed273a25e0"
            ]
        ]
    },
    {
        "id": "4c5ba8abe888c4a4",
        "type": "subflow:54f147592a602955",
        "z": "6b25f2664a9c5aec",
        "name": "放到视觉判定",
        "env": [
            {
                "name": "6axes",
                "value": "2",
                "type": "num"
            }
        ],
        "x": 1720,
        "y": 260,
        "wires": [
            [
                "d3f09fda965d0b1c"
            ]
        ],
        "icon": "font-awesome/fa-cubes"
    },
    {
        "id": "a1eb22864bce79fc",
        "type": "subflow:54f147592a602955",
        "z": "6b25f2664a9c5aec",
        "name": "放阀体",
        "env": [
            {
                "name": "6axes",
                "value": "4",
                "type": "num"
            }
        ],
        "x": 2070,
        "y": 260,
        "wires": [
            [
                "59edf7d144d21158"
            ]
        ]
    },
    {
        "id": "59edf7d144d21158",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "6b25f2664a9c5aec",
        "name": "打螺丝1",
        "env": [
            {
                "name": "FanZai",
                "value": "6",
                "type": "num"
            }
        ],
        "x": 2240,
        "y": 260,
        "wires": [
            [
                "f91ffecbc3e9d8c9"
            ]
        ]
    },
    {
        "id": "c3447f7f463463de",
        "type": "subflow:54f147592a602955",
        "z": "6b25f2664a9c5aec",
        "name": "放废料盒",
        "env": [
            {
                "name": "6axes",
                "value": "5",
                "type": "num"
            }
        ],
        "x": 2380,
        "y": 180,
        "wires": [
            [
                "893ee25836f4e34a"
            ]
        ]
    },
    {
        "id": "948365c3dc1bf4f9",
        "type": "function",
        "z": "6b25f2664a9c5aec",
        "name": "先导阀装配数递增",
        "func": "var IO = global.get(\"IO_80\");\nIO.AO.index_assembled ++;\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2590,
        "y": 260,
        "wires": [
            [
                "34b57a971eb27428"
            ]
        ]
    },
    {
        "id": "f91ffecbc3e9d8c9",
        "type": "subflow:54f147592a602955",
        "z": "6b25f2664a9c5aec",
        "name": "回原位",
        "env": [
            {
                "name": "6axes",
                "value": "6",
                "type": "num"
            }
        ],
        "x": 2390,
        "y": 260,
        "wires": [
            [
                "948365c3dc1bf4f9"
            ]
        ]
    },
    {
        "id": "8331caed273a25e0",
        "type": "function",
        "z": "6b25f2664a9c5aec",
        "name": "已用物料递增",
        "func": "var IO = global.get(\"IO_80\");\nIO.AO_6axes.index_top_tray ++;\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1420,
        "y": 260,
        "wires": [
            [
                "718607ee038605f9"
            ]
        ]
    },
    {
        "id": "44e5f36570e354ed",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "6b25f2664a9c5aec",
        "name": "顶螺丝",
        "env": [
            {
                "name": "FanZai",
                "value": "9",
                "type": "num"
            }
        ],
        "x": 850,
        "y": 280,
        "wires": [
            [
                "e0b5c2150c2a78f4"
            ]
        ]
    },
    {
        "id": "b9c9e71584fae02a",
        "type": "inject",
        "z": "6b25f2664a9c5aec",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 410,
        "y": 120,
        "wires": [
            [
                "cc923f1d1d69b14c",
                "313ebd3fe3661b81",
                "4cc74c0df69a8512",
                "41a875495c8024f2"
            ]
        ]
    },
    {
        "id": "313ebd3fe3661b81",
        "type": "change",
        "z": "6b25f2664a9c5aec",
        "name": "阀体上装配序号",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO.index_assembled",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "cc923f1d1d69b14c",
        "type": "change",
        "z": "6b25f2664a9c5aec",
        "name": "顶层料盘抓取序号",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO_6axes.index_top_tray",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 670,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "3ead66496d5a5ea1",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "6b25f2664a9c5aec",
        "name": "阀体视觉纠偏",
        "env": [
            {
                "name": "FanZai",
                "value": "1",
                "type": "num"
            }
        ],
        "x": 300,
        "y": 280,
        "wires": [
            [
                "63115ba3963f1f3b"
            ]
        ]
    },
    {
        "id": "e0b5c2150c2a78f4",
        "type": "switch",
        "z": "6b25f2664a9c5aec",
        "name": "顶层先导阀够料",
        "property": "IO_80.AO_6axes.index_top_tray",
        "propertyType": "global",
        "rules": [
            {
                "t": "lte",
                "v": "16",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "17",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1000,
        "y": 280,
        "wires": [
            [
                "93e7ec528560151a"
            ],
            [
                "26b0035456038719"
            ]
        ]
    },
    {
        "id": "26b0035456038719",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "6b25f2664a9c5aec",
        "name": "换料盘",
        "env": [
            {
                "name": "FanZai",
                "value": "8",
                "type": "num"
            }
        ],
        "x": 1090,
        "y": 320,
        "wires": [
            [
                "b0c0aa1ceae00e7d"
            ]
        ]
    },
    {
        "id": "b0c0aa1ceae00e7d",
        "type": "function",
        "z": "6b25f2664a9c5aec",
        "name": "数据更新",
        "func": "var IO = global.get(\"IO_80\");\nIO.AO.tray_in_count --;\nIO.AO.tray_out_count ++;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1240,
        "y": 320,
        "wires": [
            [
                "838166fe9ee273ca"
            ]
        ]
    },
    {
        "id": "c91283f0ac8976f1",
        "type": "switch",
        "z": "6b25f2664a9c5aec",
        "name": "是否没托盘了",
        "property": "IO_80.AO.tray_in_count",
        "propertyType": "global",
        "rules": [
            {
                "t": "gte",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1580,
        "y": 320,
        "wires": [
            [
                "cb93de3c407ca538"
            ],
            [
                "ec80a1b1c7e28639"
            ]
        ]
    },
    {
        "id": "cb93de3c407ca538",
        "type": "function",
        "z": "6b25f2664a9c5aec",
        "name": "数据更新",
        "func": "var IO = global.get(\"IO_80\");\nIO.AO_6axes.index_top_tray  = 1;\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1735,
        "y": 300,
        "wires": [
            [
                "7453e051d4c4d418"
            ]
        ],
        "l": false
    },
    {
        "id": "ec80a1b1c7e28639",
        "type": "http request",
        "z": "6b25f2664a9c5aec",
        "name": "AGV请求",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 1760,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "7453e051d4c4d418",
        "type": "delay",
        "z": "6b25f2664a9c5aec",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1795,
        "y": 300,
        "wires": [
            [
                "93e7ec528560151a"
            ]
        ],
        "l": false
    },
    {
        "id": "34b57a971eb27428",
        "type": "switch",
        "z": "6b25f2664a9c5aec",
        "name": "装配完成判断",
        "property": "IO_80.AO.index_assembled",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "10",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "9",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 3100,
        "y": 340,
        "wires": [
            [
                "5c09b9438ce2458a"
            ],
            [
                "4f9e1dd4adb757bb"
            ]
        ]
    },
    {
        "id": "838166fe9ee273ca",
        "type": "delay",
        "z": "6b25f2664a9c5aec",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1335,
        "y": 320,
        "wires": [
            [
                "df7adc2a2d25359d"
            ]
        ],
        "l": false
    },
    {
        "id": "df7adc2a2d25359d",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "6b25f2664a9c5aec",
        "name": "进料盘",
        "env": [
            {
                "name": "FanZai",
                "value": "2",
                "type": "num"
            }
        ],
        "x": 1430,
        "y": 320,
        "wires": [
            [
                "c91283f0ac8976f1"
            ]
        ]
    },
    {
        "id": "4cc74c0df69a8512",
        "type": "change",
        "z": "6b25f2664a9c5aec",
        "name": "进料盘",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO.tray_in_count",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "41a875495c8024f2",
        "type": "change",
        "z": "6b25f2664a9c5aec",
        "name": "出料盘",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO.tray_out_count",
                "pt": "global",
                "to": "4",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "64877e554ba61320",
        "type": "inject",
        "z": "6b25f2664a9c5aec",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1270,
        "y": 140,
        "wires": [
            [
                "8331caed273a25e0"
            ]
        ]
    },
    {
        "id": "cf5f1f1c8a41c391",
        "type": "inject",
        "z": "6b25f2664a9c5aec",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 2070,
        "y": 160,
        "wires": [
            [
                "59edf7d144d21158"
            ]
        ]
    },
    {
        "id": "cbdeec63895568e6",
        "type": "inject",
        "z": "6b25f2664a9c5aec",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 2410,
        "y": 320,
        "wires": [
            [
                "948365c3dc1bf4f9"
            ]
        ]
    },
    {
        "id": "d4e61d2f0a787af4",
        "type": "inject",
        "z": "6b25f2664a9c5aec",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1910,
        "y": 200,
        "wires": [
            [
                "a1eb22864bce79fc"
            ]
        ]
    },
    {
        "id": "64429a551355d33b",
        "type": "inject",
        "z": "6b25f2664a9c5aec",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 290,
        "y": 380,
        "wires": [
            [
                "3ead66496d5a5ea1"
            ]
        ]
    },
    {
        "id": "893ba77d89cd5fd4",
        "type": "inject",
        "z": "6b25f2664a9c5aec",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1630,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "962e2ab610153168",
        "type": "inject",
        "z": "6b25f2664a9c5aec",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 100,
        "wires": [
            [
                "0b6206570073035d"
            ]
        ]
    },
    {
        "id": "4ef47c16a3b70af3",
        "type": "inject",
        "z": "6b25f2664a9c5aec",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 970,
        "y": 160,
        "wires": [
            [
                "93e7ec528560151a"
            ]
        ]
    },
    {
        "id": "49fc72d39a014eaa",
        "type": "inject",
        "z": "6b25f2664a9c5aec",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 2210,
        "y": 60,
        "wires": [
            [
                "f91ffecbc3e9d8c9"
            ]
        ]
    },
    {
        "id": "d9eecc88e03628e4",
        "type": "inject",
        "z": "6b25f2664a9c5aec",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1490,
        "y": 180,
        "wires": [
            [
                "4c5ba8abe888c4a4"
            ]
        ]
    },
    {
        "id": "5340dd217ff5e2d0",
        "type": "function",
        "z": "6b25f2664a9c5aec",
        "name": "生产完成-物料处理",
        "func": "var StationTask_90 = global.get(\"StationTask_90\");\nvar obj = StationTask_90.ProcessDetail[0].MaterialDetails[0];\nobj.Num -= obj.consumption;\n\nvar obj2 = StationTask_90.ProcessDetail[0].MaterialDetails[1];\nobj2.Num -= obj2.consumption;\n\nvar obj3 = StationTask_90.ProcessDetail[0].MaterialDetails[2];\nobj3.Num -= obj3.consumption;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3190,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "5c09b9438ce2458a",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "6b25f2664a9c5aec",
        "name": "装配完成",
        "env": [
            {
                "name": "FanZai",
                "value": "11",
                "type": "num"
            }
        ],
        "x": 3280,
        "y": 340,
        "wires": [
            [
                "1a74721d6acdbba3"
            ]
        ]
    },
    {
        "id": "6bbf14d39b49ae41",
        "type": "inject",
        "z": "6b25f2664a9c5aec",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 3130,
        "y": 220,
        "wires": [
            [
                "34b57a971eb27428"
            ]
        ]
    },
    {
        "id": "a0a37cf34d6991f1",
        "type": "http request",
        "z": "6b25f2664a9c5aec",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 3700,
        "y": 340,
        "wires": [
            [
                "a12456222f7cecfc",
                "b1e9dd4e8f91a4a7"
            ]
        ]
    },
    {
        "id": "a12456222f7cecfc",
        "type": "debug",
        "z": "6b25f2664a9c5aec",
        "name": "调试 23",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 3860,
        "y": 340,
        "wires": []
    },
    {
        "id": "1a74721d6acdbba3",
        "type": "function",
        "z": "6b25f2664a9c5aec",
        "name": "告诉调度器-生产完成",
        "func": "const t = (new Date()).toISOString();\nvar Request = global.get(\"Request_80\");\nRequest.EndTime = t;\n\nmsg.payload = Request;\nmsg.url = global.get(\"LCS\")+\"actionCompletedSignal\";\n//msg.method = \"POST\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3480,
        "y": 340,
        "wires": [
            [
                "a0a37cf34d6991f1"
            ]
        ]
    },
    {
        "id": "b1e9dd4e8f91a4a7",
        "type": "delay",
        "z": "6b25f2664a9c5aec",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 3880,
        "y": 380,
        "wires": [
            [
                "366db6dd22a1471c"
            ]
        ]
    },
    {
        "id": "366db6dd22a1471c",
        "type": "change",
        "z": "6b25f2664a9c5aec",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Request_80.RequestID",
                "pt": "global",
                "to": "-",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "Request_80.RequestID_",
                "pt": "global",
                "to": "-",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 4040,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "0b6206570073035d",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "6b25f2664a9c5aec",
        "name": "进料盘",
        "env": [
            {
                "name": "FanZai",
                "value": "2",
                "type": "num"
            }
        ],
        "x": 330,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "da71142784344abf",
        "type": "inject",
        "z": "6b25f2664a9c5aec",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1070,
        "y": 480,
        "wires": [
            [
                "26b0035456038719"
            ]
        ]
    },
    {
        "id": "d7a042713bcd1fc8",
        "type": "inject",
        "z": "6b25f2664a9c5aec",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1250,
        "y": 440,
        "wires": [
            [
                "b0c0aa1ceae00e7d"
            ]
        ]
    },
    {
        "id": "eaf924cee798c424",
        "type": "inject",
        "z": "6b25f2664a9c5aec",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1470,
        "y": 440,
        "wires": [
            [
                "c91283f0ac8976f1"
            ]
        ]
    },
    {
        "id": "010fdfdbef0a59e0",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "6b25f2664a9c5aec",
        "name": "根据装配序号移动滑块",
        "env": [
            {
                "name": "FanZai",
                "value": "10",
                "type": "num"
            }
        ],
        "x": 620,
        "y": 280,
        "wires": [
            [
                "9c192ac35dc13d4e"
            ]
        ]
    },
    {
        "id": "9c192ac35dc13d4e",
        "type": "delay",
        "z": "6b25f2664a9c5aec",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 755,
        "y": 280,
        "wires": [
            [
                "44e5f36570e354ed"
            ]
        ],
        "l": false
    },
    {
        "id": "d3f09fda965d0b1c",
        "type": "delay",
        "z": "6b25f2664a9c5aec",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1865,
        "y": 260,
        "wires": [
            [
                "a1eb22864bce79fc"
            ]
        ],
        "l": false
    },
    {
        "id": "718607ee038605f9",
        "type": "delay",
        "z": "6b25f2664a9c5aec",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1565,
        "y": 260,
        "wires": [
            [
                "4c5ba8abe888c4a4"
            ]
        ],
        "l": false
    },
    {
        "id": "63115ba3963f1f3b",
        "type": "delay",
        "z": "6b25f2664a9c5aec",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 445,
        "y": 280,
        "wires": [
            [
                "010fdfdbef0a59e0"
            ]
        ],
        "l": false
    },
    {
        "id": "f4fa34a0d59b9675",
        "type": "inject",
        "z": "6b25f2664a9c5aec",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 370,
        "y": 500,
        "wires": [
            [
                "010fdfdbef0a59e0"
            ]
        ]
    },
    {
        "id": "4c52a38763cbfff4",
        "type": "function",
        "z": "20f519252766076f",
        "name": "开始下一次装配",
        "func": "\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 360,
        "wires": [
            [
                "efa817204e2d782c"
            ]
        ]
    },
    {
        "id": "6ae9d80419d076b2",
        "type": "function",
        "z": "20f519252766076f",
        "name": "直接结束到下一个流程",
        "func": "\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2800,
        "y": 240,
        "wires": [
            [
                "e04726c9c7245df7"
            ]
        ]
    },
    {
        "id": "bcab5e207194092d",
        "type": "subflow:54f147592a602955",
        "z": "20f519252766076f",
        "name": "放置到顶螺丝",
        "env": [
            {
                "name": "6axes",
                "value": "1",
                "type": "num"
            }
        ],
        "x": 1140,
        "y": 280,
        "wires": [
            [
                "df0df9d9c815fecc"
            ]
        ]
    },
    {
        "id": "7ddb7e45ea6da955",
        "type": "subflow:54f147592a602955",
        "z": "20f519252766076f",
        "name": "放到视觉判定",
        "env": [
            {
                "name": "6axes",
                "value": "2",
                "type": "num"
            }
        ],
        "x": 1640,
        "y": 280,
        "wires": [
            [
                "c7db2aa1c89596f2"
            ]
        ],
        "icon": "font-awesome/fa-cubes"
    },
    {
        "id": "601d2863e0147241",
        "type": "subflow:54f147592a602955",
        "z": "20f519252766076f",
        "name": "放阀体",
        "env": [
            {
                "name": "6axes",
                "value": "4",
                "type": "num"
            }
        ],
        "x": 1990,
        "y": 280,
        "wires": [
            [
                "be053d566e720fe0"
            ]
        ]
    },
    {
        "id": "be053d566e720fe0",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "20f519252766076f",
        "name": "打螺丝1",
        "env": [
            {
                "name": "FanZai",
                "value": "6",
                "type": "num"
            }
        ],
        "x": 2160,
        "y": 280,
        "wires": [
            [
                "e15cb47c9cdc02e8"
            ]
        ]
    },
    {
        "id": "fefd4f573361b0e7",
        "type": "subflow:54f147592a602955",
        "z": "20f519252766076f",
        "name": "放废料盒",
        "env": [
            {
                "name": "6axes",
                "value": "5",
                "type": "num"
            }
        ],
        "x": 2300,
        "y": 200,
        "wires": [
            [
                "6ae9d80419d076b2"
            ]
        ]
    },
    {
        "id": "8f2d193705945922",
        "type": "function",
        "z": "20f519252766076f",
        "name": "先导阀装配数递增",
        "func": "var IO = global.get(\"IO_80\");\nIO.AO.index_assembled ++;\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2510,
        "y": 280,
        "wires": [
            [
                "e04726c9c7245df7"
            ]
        ]
    },
    {
        "id": "e15cb47c9cdc02e8",
        "type": "subflow:54f147592a602955",
        "z": "20f519252766076f",
        "name": "回原位",
        "env": [
            {
                "name": "6axes",
                "value": "6",
                "type": "num"
            }
        ],
        "x": 2310,
        "y": 280,
        "wires": [
            [
                "8f2d193705945922"
            ]
        ]
    },
    {
        "id": "df0df9d9c815fecc",
        "type": "function",
        "z": "20f519252766076f",
        "name": "已用物料递增",
        "func": "var IO = global.get(\"IO_80\");\nIO.AO_6axes.index_top_tray ++;\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1340,
        "y": 280,
        "wires": [
            [
                "bb86fa8312d39c08"
            ]
        ]
    },
    {
        "id": "22cb636a480fbb74",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "20f519252766076f",
        "name": "顶螺丝",
        "env": [
            {
                "name": "FanZai",
                "value": "9",
                "type": "num"
            }
        ],
        "x": 770,
        "y": 300,
        "wires": [
            [
                "a93d6a9b477c8ddd"
            ]
        ]
    },
    {
        "id": "329053f1dde680ae",
        "type": "inject",
        "z": "20f519252766076f",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 330,
        "y": 60,
        "wires": [
            [
                "2917765571b440e2",
                "f3f4a60c208de1b5",
                "0db3b8cdc21a0ee6",
                "0b58753afcfe7044"
            ]
        ]
    },
    {
        "id": "f3f4a60c208de1b5",
        "type": "change",
        "z": "20f519252766076f",
        "name": "阀体上装配序号",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO.index_assembled",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "2917765571b440e2",
        "type": "change",
        "z": "20f519252766076f",
        "name": "顶层料盘抓取序号",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO_6axes.index_top_tray",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 20,
        "wires": [
            []
        ]
    },
    {
        "id": "26a94d94dfb2e958",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "20f519252766076f",
        "name": "阀体视觉纠偏",
        "env": [
            {
                "name": "FanZai",
                "value": "1",
                "type": "num"
            }
        ],
        "x": 220,
        "y": 300,
        "wires": [
            [
                "3ac8e05277be1694"
            ]
        ]
    },
    {
        "id": "a93d6a9b477c8ddd",
        "type": "switch",
        "z": "20f519252766076f",
        "name": "顶层先导阀够料",
        "property": "IO_80.AO_6axes.index_top_tray",
        "propertyType": "global",
        "rules": [
            {
                "t": "lte",
                "v": "16",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "17",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 920,
        "y": 300,
        "wires": [
            [
                "bcab5e207194092d"
            ],
            [
                "b4877f651acbd5b0"
            ]
        ]
    },
    {
        "id": "b4877f651acbd5b0",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "20f519252766076f",
        "name": "换料盘",
        "env": [
            {
                "name": "FanZai",
                "value": "8",
                "type": "num"
            }
        ],
        "x": 1010,
        "y": 340,
        "wires": [
            [
                "60d29c99871e4692"
            ]
        ]
    },
    {
        "id": "60d29c99871e4692",
        "type": "function",
        "z": "20f519252766076f",
        "name": "数据更新",
        "func": "var IO = global.get(\"IO_80\");\nIO.AO.tray_in_count --;\nIO.AO.tray_out_count ++;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1160,
        "y": 340,
        "wires": [
            [
                "6a760aea6e93d64d"
            ]
        ]
    },
    {
        "id": "f8b594eae53bc8c6",
        "type": "switch",
        "z": "20f519252766076f",
        "name": "是否没托盘了",
        "property": "IO_80.AO.tray_in_count",
        "propertyType": "global",
        "rules": [
            {
                "t": "gte",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1500,
        "y": 340,
        "wires": [
            [
                "3c727518ac24b2ce"
            ],
            [
                "a9beb50c33843ebc"
            ]
        ]
    },
    {
        "id": "3c727518ac24b2ce",
        "type": "function",
        "z": "20f519252766076f",
        "name": "数据更新",
        "func": "var IO = global.get(\"IO_80\");\nIO.AO_6axes.index_top_tray  = 1;\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1655,
        "y": 320,
        "wires": [
            [
                "a769f8f47ad28442"
            ]
        ],
        "l": false
    },
    {
        "id": "a9beb50c33843ebc",
        "type": "http request",
        "z": "20f519252766076f",
        "name": "AGV请求",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 1680,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "a769f8f47ad28442",
        "type": "delay",
        "z": "20f519252766076f",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1715,
        "y": 320,
        "wires": [
            [
                "bcab5e207194092d"
            ]
        ],
        "l": false
    },
    {
        "id": "e04726c9c7245df7",
        "type": "switch",
        "z": "20f519252766076f",
        "name": "装配完成判断",
        "property": "IO_80.AO.index_assembled",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "10",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "9",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 3020,
        "y": 360,
        "wires": [
            [
                "14341c32f0ad6689"
            ],
            [
                "4c52a38763cbfff4"
            ]
        ]
    },
    {
        "id": "6a760aea6e93d64d",
        "type": "delay",
        "z": "20f519252766076f",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1255,
        "y": 340,
        "wires": [
            [
                "702284671bfbeeec"
            ]
        ],
        "l": false
    },
    {
        "id": "702284671bfbeeec",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "20f519252766076f",
        "name": "进料盘",
        "env": [
            {
                "name": "FanZai",
                "value": "2",
                "type": "num"
            }
        ],
        "x": 1350,
        "y": 340,
        "wires": [
            [
                "f8b594eae53bc8c6"
            ]
        ]
    },
    {
        "id": "0db3b8cdc21a0ee6",
        "type": "change",
        "z": "20f519252766076f",
        "name": "进料盘",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO.tray_in_count",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "0b58753afcfe7044",
        "type": "change",
        "z": "20f519252766076f",
        "name": "出料盘",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO.tray_out_count",
                "pt": "global",
                "to": "4",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "b4f8a2a297acde39",
        "type": "inject",
        "z": "20f519252766076f",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1190,
        "y": 160,
        "wires": [
            [
                "df0df9d9c815fecc"
            ]
        ]
    },
    {
        "id": "4614deac84592de7",
        "type": "inject",
        "z": "20f519252766076f",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1990,
        "y": 180,
        "wires": [
            [
                "be053d566e720fe0"
            ]
        ]
    },
    {
        "id": "69692b44162a6fae",
        "type": "inject",
        "z": "20f519252766076f",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 2330,
        "y": 340,
        "wires": [
            [
                "8f2d193705945922"
            ]
        ]
    },
    {
        "id": "00012e0a1b5cbb40",
        "type": "inject",
        "z": "20f519252766076f",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1830,
        "y": 220,
        "wires": [
            [
                "601d2863e0147241"
            ]
        ]
    },
    {
        "id": "e12670c62debad51",
        "type": "inject",
        "z": "20f519252766076f",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 210,
        "y": 400,
        "wires": [
            [
                "26a94d94dfb2e958"
            ]
        ]
    },
    {
        "id": "c926e4ec2787b31f",
        "type": "inject",
        "z": "20f519252766076f",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1550,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "b2cf93e9bf1fb37a",
        "type": "inject",
        "z": "20f519252766076f",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 190,
        "y": 820,
        "wires": [
            [
                "c5def79cf7ac3cb9"
            ]
        ]
    },
    {
        "id": "76ccacc319fcff9b",
        "type": "inject",
        "z": "20f519252766076f",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 890,
        "y": 180,
        "wires": [
            [
                "bcab5e207194092d"
            ]
        ]
    },
    {
        "id": "dae12b3aa6689590",
        "type": "inject",
        "z": "20f519252766076f",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 2130,
        "y": 80,
        "wires": [
            [
                "e15cb47c9cdc02e8"
            ]
        ]
    },
    {
        "id": "c1ed5bfbab7c2567",
        "type": "inject",
        "z": "20f519252766076f",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1410,
        "y": 200,
        "wires": [
            [
                "7ddb7e45ea6da955"
            ]
        ]
    },
    {
        "id": "fa77de58c71045ca",
        "type": "function",
        "z": "20f519252766076f",
        "name": "生产完成-物料处理",
        "func": "var StationTask_90 = global.get(\"StationTask_90\");\nvar obj = StationTask_90.ProcessDetail[0].MaterialDetails[0];\nobj.Num -= obj.consumption;\n\nvar obj2 = StationTask_90.ProcessDetail[0].MaterialDetails[1];\nobj2.Num -= obj2.consumption;\n\nvar obj3 = StationTask_90.ProcessDetail[0].MaterialDetails[2];\nobj3.Num -= obj3.consumption;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3110,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "14341c32f0ad6689",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "20f519252766076f",
        "name": "装配完成",
        "env": [
            {
                "name": "FanZai",
                "value": "11",
                "type": "num"
            }
        ],
        "x": 3200,
        "y": 360,
        "wires": [
            [
                "f8a89a9431f86d02"
            ]
        ]
    },
    {
        "id": "245cb426ee5f8a91",
        "type": "inject",
        "z": "20f519252766076f",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 3050,
        "y": 240,
        "wires": [
            [
                "e04726c9c7245df7"
            ]
        ]
    },
    {
        "id": "9c70177d843d7fae",
        "type": "http request",
        "z": "20f519252766076f",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 3620,
        "y": 360,
        "wires": [
            [
                "5296bc68dfa76bc7",
                "fe72e6b601182a37"
            ]
        ]
    },
    {
        "id": "5296bc68dfa76bc7",
        "type": "debug",
        "z": "20f519252766076f",
        "name": "调试 24",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 3780,
        "y": 360,
        "wires": []
    },
    {
        "id": "f8a89a9431f86d02",
        "type": "function",
        "z": "20f519252766076f",
        "name": "告诉调度器-生产完成",
        "func": "const t = (new Date()).toISOString();\nvar Request = global.get(\"Request_80\");\nRequest.EndTime = t;\n\nmsg.payload = Request;\nmsg.url = global.get(\"LCS\")+\"actionCompletedSignal\";\n//msg.method = \"POST\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3400,
        "y": 360,
        "wires": [
            [
                "9c70177d843d7fae"
            ]
        ]
    },
    {
        "id": "fe72e6b601182a37",
        "type": "delay",
        "z": "20f519252766076f",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 3800,
        "y": 400,
        "wires": [
            [
                "57a02c66c1313bdd"
            ]
        ]
    },
    {
        "id": "57a02c66c1313bdd",
        "type": "change",
        "z": "20f519252766076f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Request_80.RequestID",
                "pt": "global",
                "to": "-",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "Request_80.RequestID_",
                "pt": "global",
                "to": "-",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3960,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "c5def79cf7ac3cb9",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "20f519252766076f",
        "name": "进料盘",
        "env": [
            {
                "name": "FanZai",
                "value": "2",
                "type": "num"
            }
        ],
        "x": 350,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "e7e0276f3be2da4e",
        "type": "inject",
        "z": "20f519252766076f",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 990,
        "y": 500,
        "wires": [
            [
                "b4877f651acbd5b0"
            ]
        ]
    },
    {
        "id": "98cb0d9ec09e4e70",
        "type": "inject",
        "z": "20f519252766076f",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1170,
        "y": 460,
        "wires": [
            [
                "60d29c99871e4692"
            ]
        ]
    },
    {
        "id": "ccd8088937799fd3",
        "type": "inject",
        "z": "20f519252766076f",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1390,
        "y": 460,
        "wires": [
            [
                "f8b594eae53bc8c6"
            ]
        ]
    },
    {
        "id": "efa817204e2d782c",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "20f519252766076f",
        "name": "根据装配序号移动滑块",
        "env": [
            {
                "name": "FanZai",
                "value": "10",
                "type": "num"
            }
        ],
        "x": 540,
        "y": 300,
        "wires": [
            [
                "eedb0794fb12cac3"
            ]
        ]
    },
    {
        "id": "eedb0794fb12cac3",
        "type": "delay",
        "z": "20f519252766076f",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 675,
        "y": 300,
        "wires": [
            [
                "22cb636a480fbb74"
            ]
        ],
        "l": false
    },
    {
        "id": "c7db2aa1c89596f2",
        "type": "delay",
        "z": "20f519252766076f",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1785,
        "y": 280,
        "wires": [
            [
                "601d2863e0147241"
            ]
        ],
        "l": false
    },
    {
        "id": "bb86fa8312d39c08",
        "type": "delay",
        "z": "20f519252766076f",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1485,
        "y": 280,
        "wires": [
            [
                "7ddb7e45ea6da955"
            ]
        ],
        "l": false
    },
    {
        "id": "3ac8e05277be1694",
        "type": "delay",
        "z": "20f519252766076f",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 365,
        "y": 300,
        "wires": [
            [
                "efa817204e2d782c"
            ]
        ],
        "l": false
    },
    {
        "id": "3f1c09f010cc7640",
        "type": "inject",
        "z": "20f519252766076f",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 290,
        "y": 520,
        "wires": [
            [
                "efa817204e2d782c"
            ]
        ]
    },
    {
        "id": "feca57acc4a50d1e",
        "type": "function",
        "z": "c8219eb372b7ebb9",
        "name": "开始下一次装配",
        "func": "\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1540,
        "y": 640,
        "wires": [
            [
                "83d7d76ef9fb56d8"
            ]
        ]
    },
    {
        "id": "c617160216fc0e1c",
        "type": "function",
        "z": "c8219eb372b7ebb9",
        "name": "先导阀装配数递增",
        "func": "var IO = global.get(\"IO_80\");\nIO.AO_6axes.index_top_tray ++;\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2490,
        "y": 220,
        "wires": [
            [
                "04bb53c01fe26cb5"
            ]
        ]
    },
    {
        "id": "d821825d442557ea",
        "type": "inject",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 250,
        "y": 100,
        "wires": [
            [
                "f647edd38c770703",
                "e9273a8092e82fd0",
                "a8faea61e9d8d0ee",
                "21077c972a17e29b",
                "bd834bb5ce45a76e"
            ]
        ]
    },
    {
        "id": "e9273a8092e82fd0",
        "type": "change",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO_6axes.index_assembled",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "f647edd38c770703",
        "type": "change",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO_6axes.index_top_tray",
                "pt": "global",
                "to": "12",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "8ce128af1cf98aab",
        "type": "switch",
        "z": "c8219eb372b7ebb9",
        "name": "顶层先导阀够料",
        "property": "IO_80.AO_6axes.index_top_tray",
        "propertyType": "global",
        "rules": [
            {
                "t": "lte",
                "v": "16",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "17",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1540,
        "y": 360,
        "wires": [
            [
                "8e1bc3b2ea4d8583"
            ],
            [
                "c9baa4242fede80d"
            ]
        ]
    },
    {
        "id": "2b8c26bb3a881240",
        "type": "function",
        "z": "c8219eb372b7ebb9",
        "name": "数据更新",
        "func": "var IO = global.get(\"IO_80\");\nIO.AO.tray_in_count --;\nIO.AO.tray_out_count ++;\nIO.AO_6axes.index_top_tray = 1;\ntry {\n    //托盘码处理\n    let StationTask = global.get(\"StationTask_80\");\n    let obj = StationTask.ProcessDetail[0].MaterialDetails[0].layers.pop();\n    obj.Num = 0;\n    StationTask.ProcessDetail[0].MaterialDetails[1].layers.push(obj);\n    var layers = StationTask.ProcessDetail[0].MaterialDetails[0].layers;\n    IO.AO_6axes.index_top_tray = layers[layers.length - 1].Num;\n}\ncatch (ex) {\n\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1700,
        "y": 480,
        "wires": [
            [
                "567ab55bb75b8d42"
            ]
        ]
    },
    {
        "id": "567ab55bb75b8d42",
        "type": "switch",
        "z": "c8219eb372b7ebb9",
        "name": "是否没托盘了",
        "property": "IO_80.AO.tray_in_count",
        "propertyType": "global",
        "rules": [
            {
                "t": "gte",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1860,
        "y": 480,
        "wires": [
            [
                "07f1e1babc01d6bd"
            ],
            []
        ]
    },
    {
        "id": "07f1e1babc01d6bd",
        "type": "delay",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2155,
        "y": 440,
        "wires": [
            [
                "e86e77d446be3ae1"
            ]
        ],
        "l": false
    },
    {
        "id": "3f08f66d75ccb774",
        "type": "switch",
        "z": "c8219eb372b7ebb9",
        "name": "判断先导阀装配数",
        "property": "IO_80.AO.index_assembled",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "10",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "9",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2530,
        "y": 640,
        "wires": [
            [
                "f717869b1df06302",
                "33bf43e88400fc19"
            ],
            [
                "feca57acc4a50d1e"
            ]
        ]
    },
    {
        "id": "bd834bb5ce45a76e",
        "type": "change",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO.index_assembled",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1260,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "dbbd13858b7bbf6e",
        "type": "inject",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 220,
        "wires": [
            [
                "1468dac82650bc9b"
            ]
        ]
    },
    {
        "id": "a8faea61e9d8d0ee",
        "type": "change",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO.tray_in_count",
                "pt": "global",
                "to": "3",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1240,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "21077c972a17e29b",
        "type": "change",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO.tray_out_count",
                "pt": "global",
                "to": "2",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "757442ce24146023",
        "type": "function",
        "z": "c8219eb372b7ebb9",
        "name": "完成一个流程",
        "func": "\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3860,
        "y": 480,
        "wires": [
            [
                "3f08f66d75ccb774"
            ]
        ]
    },
    {
        "id": "d1193b250f3287e7",
        "type": "function",
        "z": "c8219eb372b7ebb9",
        "name": "直接结束到下一个流程",
        "func": "\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3660,
        "y": 220,
        "wires": [
            [
                "757442ce24146023"
            ]
        ]
    },
    {
        "id": "bb1138bfd22cc52a",
        "type": "function",
        "z": "c8219eb372b7ebb9",
        "name": "先导阀装配数递增",
        "func": "var IO = global.get(\"IO_80\");\nIO.AO.index_assembled ++;\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3670,
        "y": 360,
        "wires": [
            [
                "757442ce24146023"
            ]
        ]
    },
    {
        "id": "e7c2bbdf430fb99b",
        "type": "inject",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 3510,
        "y": 300,
        "wires": [
            [
                "eb0cc645acc24312"
            ]
        ]
    },
    {
        "id": "76396970d4b0ad70",
        "type": "switch",
        "z": "c8219eb372b7ebb9",
        "name": "判断视觉结果",
        "property": "IO_80.AI_6axes.request_vision",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2560,
        "y": 300,
        "wires": [
            [
                "fd6ae4c508363719"
            ],
            [
                "2524016be6b9e70a"
            ]
        ]
    },
    {
        "id": "fd6ae4c508363719",
        "type": "delay",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "pauseType": "delay",
        "timeout": "400",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2735,
        "y": 240,
        "wires": [
            [
                "ed0e06b4f7d3a5d4"
            ]
        ],
        "l": false
    },
    {
        "id": "2524016be6b9e70a",
        "type": "delay",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "pauseType": "delay",
        "timeout": "400",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2735,
        "y": 340,
        "wires": [
            [
                "423a90606ccb584f"
            ]
        ],
        "l": false
    },
    {
        "id": "11bcd235ee3079d5",
        "type": "switch",
        "z": "c8219eb372b7ebb9",
        "name": "打，吹螺丝同步判断",
        "property": "IO_80.AO.index_assembled",
        "propertyType": "global",
        "rules": [
            {
                "t": "btwn",
                "v": "0",
                "vt": "num",
                "v2": "9",
                "v2t": "num"
            },
            {
                "t": "eq",
                "v": "9",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 3020,
        "y": 340,
        "wires": [
            [
                "31843a515c5bce68"
            ],
            [
                "530dacbfe73ec81c"
            ]
        ]
    },
    {
        "id": "a3b01bc6d6f03ed8",
        "type": "delay",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "pauseType": "delay",
        "timeout": "2000",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 855,
        "y": 440,
        "wires": [
            [
                "2717ca6e567645ce"
            ]
        ],
        "l": false
    },
    {
        "id": "7656e138f85e1e85",
        "type": "subflow:94b4bfc7cb34885d",
        "z": "c8219eb372b7ebb9",
        "name": "等待M5顶螺丝+先导阀抓取",
        "x": 1160,
        "y": 380,
        "wires": [
            [
                "633bc90bb6bdd12e"
            ]
        ]
    },
    {
        "id": "633bc90bb6bdd12e",
        "type": "delay",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "pauseType": "delay",
        "timeout": "400",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1305,
        "y": 380,
        "wires": [
            [
                "83d7d76ef9fb56d8"
            ]
        ],
        "l": false
    },
    {
        "id": "8e1bc3b2ea4d8583",
        "type": "switch",
        "z": "c8219eb372b7ebb9",
        "name": "判断先导阀安装顺序",
        "property": "IO_80.AO.index_assembled",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1720,
        "y": 220,
        "wires": [
            [
                "ed062d7d93412a3b"
            ],
            [
                "d7b0d81d03796dbd"
            ]
        ]
    },
    {
        "id": "d7b0d81d03796dbd",
        "type": "delay",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "pauseType": "delay",
        "timeout": "400",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1875,
        "y": 220,
        "wires": [
            [
                "234276a5398fd515"
            ]
        ],
        "l": false
    },
    {
        "id": "ed062d7d93412a3b",
        "type": "delay",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "pauseType": "delay",
        "timeout": "400",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1885,
        "y": 140,
        "wires": [
            [
                "0b3076e2f4bc8c24"
            ]
        ],
        "l": false
    },
    {
        "id": "b2abc5e7d0d326c2",
        "type": "delay",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "pauseType": "delay",
        "timeout": "400",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2135,
        "y": 140,
        "wires": [
            [
                "c617160216fc0e1c"
            ]
        ],
        "l": false
    },
    {
        "id": "6a7023915a7d5c19",
        "type": "delay",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "pauseType": "delay",
        "timeout": "400",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2135,
        "y": 220,
        "wires": [
            [
                "aa85a29a9bb7ff6e"
            ]
        ],
        "l": false
    },
    {
        "id": "056627c62c8e230b",
        "type": "inject",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 2160,
        "y": 300,
        "wires": [
            [
                "04bb53c01fe26cb5"
            ]
        ]
    },
    {
        "id": "803020438a116d8a",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "c8219eb372b7ebb9",
        "name": "阀体视觉纠偏",
        "env": [
            {
                "name": "FanZai",
                "value": "1",
                "type": "num"
            }
        ],
        "x": 720,
        "y": 380,
        "wires": [
            [
                "a3b01bc6d6f03ed8",
                "2be17fb6b56e82c0"
            ]
        ]
    },
    {
        "id": "2717ca6e567645ce",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "c8219eb372b7ebb9",
        "name": "顶螺丝",
        "env": [
            {
                "name": "FanZai",
                "value": "9",
                "type": "num"
            }
        ],
        "x": 950,
        "y": 440,
        "wires": [
            [
                "7656e138f85e1e85"
            ]
        ]
    },
    {
        "id": "6096ca8fe13c1c07",
        "type": "inject",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 760,
        "wires": [
            [
                "ad9c2879a4a42e35"
            ]
        ]
    },
    {
        "id": "83d7d76ef9fb56d8",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "c8219eb372b7ebb9",
        "name": "根据装配序号移动滑块",
        "env": [
            {
                "name": "FanZai",
                "value": "10",
                "type": "num"
            }
        ],
        "x": 1440,
        "y": 260,
        "wires": [
            [
                "8ce128af1cf98aab"
            ]
        ]
    },
    {
        "id": "c9baa4242fede80d",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "c8219eb372b7ebb9",
        "name": "换料盘",
        "env": [
            {
                "name": "FanZai",
                "value": "8",
                "type": "num"
            }
        ],
        "x": 1550,
        "y": 480,
        "wires": [
            [
                "2b8c26bb3a881240"
            ]
        ]
    },
    {
        "id": "15b5fda78fac2e25",
        "type": "link in",
        "z": "c8219eb372b7ebb9",
        "name": "调度生产",
        "links": [
            "8587d880509d0863"
        ],
        "x": 115,
        "y": 140,
        "wires": [
            [
                "1468dac82650bc9b"
            ]
        ]
    },
    {
        "id": "1468dac82650bc9b",
        "type": "switch",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "property": "IO_80.AO.tray_in_count",
        "propertyType": "global",
        "rules": [
            {
                "t": "btwn",
                "v": "1",
                "vt": "num",
                "v2": "5",
                "v2t": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 155,
        "y": 180,
        "wires": [
            [
                "3b19aeb9b5f659d8"
            ],
            [
                "e0c3e67de2a58c1b"
            ]
        ],
        "l": false
    },
    {
        "id": "3b19aeb9b5f659d8",
        "type": "switch",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "property": "IO_80.AO_6axes.index_top_tray",
        "propertyType": "global",
        "rules": [
            {
                "t": "btwn",
                "v": "1",
                "vt": "num",
                "v2": "16",
                "v2t": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 205,
        "y": 180,
        "wires": [
            [
                "791407520b1476ed"
            ],
            [
                "1ab8bfd6128f5e1a"
            ]
        ],
        "l": false
    },
    {
        "id": "791407520b1476ed",
        "type": "switch",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "property": "IO_80.AO_6axes.index_assembled",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 255,
        "y": 180,
        "wires": [
            [
                "818d38ec387bc087"
            ],
            [
                "748c6a30506cba0e"
            ]
        ],
        "l": false
    },
    {
        "id": "818d38ec387bc087",
        "type": "switch",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "property": "IO_80.AO.index_assembled",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 305,
        "y": 180,
        "wires": [
            [
                "c8f287629dd59a44",
                "5d1073b5dac90e68"
            ],
            [
                "b41283ef3db299df"
            ]
        ],
        "l": false
    },
    {
        "id": "da7ae0663537aa56",
        "type": "http request",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 3315,
        "y": 680,
        "wires": [
            [
                "9f6cacb86ec74994"
            ]
        ],
        "l": false
    },
    {
        "id": "e2de0b9ecd85dede",
        "type": "function",
        "z": "c8219eb372b7ebb9",
        "name": "调度-完成",
        "func": "const t = (new Date()).toISOString();\nvar Request = global.get(\"Request_80\");\nRequest.EndTime = t;\n\nmsg.payload = Request;\nmsg.url = global.get(\"LCS\")+\"actionCompletedSignal\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3200,
        "y": 680,
        "wires": [
            [
                "da7ae0663537aa56",
                "b4a5d024da41bcbc"
            ]
        ]
    },
    {
        "id": "9f6cacb86ec74994",
        "type": "function",
        "z": "c8219eb372b7ebb9",
        "name": "清动作",
        "func": "\nvar Request = global.get(\"Request_80\");\nRequest.RequestID = \"-\";\nRequest.RequestID_ = \"-\";",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3450,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "b4a5d024da41bcbc",
        "type": "debug",
        "z": "c8219eb372b7ebb9",
        "name": "debug 81",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 3360,
        "y": 760,
        "wires": []
    },
    {
        "id": "258759304e104251",
        "type": "inject",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 3020,
        "y": 620,
        "wires": [
            [
                "e2de0b9ecd85dede"
            ]
        ]
    },
    {
        "id": "c8f287629dd59a44",
        "type": "switch",
        "z": "c8219eb372b7ebb9",
        "name": "顶层先导阀够料",
        "property": "IO_80.AO_6axes.index_top_tray",
        "propertyType": "global",
        "rules": [
            {
                "t": "lte",
                "v": "16",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "17",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 160,
        "y": 400,
        "wires": [
            [
                "803020438a116d8a"
            ],
            [
                "02b4220d577b667e"
            ]
        ]
    },
    {
        "id": "02b4220d577b667e",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "c8219eb372b7ebb9",
        "name": "换料盘",
        "env": [
            {
                "name": "FanZai",
                "value": "8",
                "type": "num"
            }
        ],
        "x": 110,
        "y": 540,
        "wires": [
            [
                "053b9abc33e810dd"
            ]
        ]
    },
    {
        "id": "053b9abc33e810dd",
        "type": "function",
        "z": "c8219eb372b7ebb9",
        "name": "数据更新",
        "func": "var IO = global.get(\"IO_80\");\nIO.AO.tray_in_count --;\nIO.AO.tray_out_count ++;\nIO.AO_6axes.index_top_tray = 1;\ntry {\n    //托盘码处理\n    let StationTask = global.get(\"StationTask_80\");\n    let obj = StationTask.ProcessDetail[0].MaterialDetails[0].layers.pop();\n    obj.Num = 0;\n    StationTask.ProcessDetail[0].MaterialDetails[1].layers.push(obj);\n    var layers = StationTask.ProcessDetail[0].MaterialDetails[0].layers;\n    IO.AO_6axes.index_top_tray = layers[layers.length-1].Num;\n}\ncatch (ex) {\n\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 215,
        "y": 540,
        "wires": [
            [
                "67251ccdf1566d25"
            ]
        ],
        "l": false
    },
    {
        "id": "67251ccdf1566d25",
        "type": "switch",
        "z": "c8219eb372b7ebb9",
        "name": "是否没托盘了",
        "property": "IO_80.AO.tray_in_count",
        "propertyType": "global",
        "rules": [
            {
                "t": "gte",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 275,
        "y": 540,
        "wires": [
            [
                "9764de504b48eb8c"
            ],
            [
                "b92bb082334f4548"
            ]
        ],
        "l": false
    },
    {
        "id": "b92bb082334f4548",
        "type": "subflow:5bd3bcf845cebff7",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "x": 450,
        "y": 560,
        "wires": [
            [
                "07df645fade04fed"
            ]
        ]
    },
    {
        "id": "07df645fade04fed",
        "type": "subflow:47ed10ed94f48a98",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "x": 630,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "d377af33b816486b",
        "type": "subflow:5bd3bcf845cebff7",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "x": 2090,
        "y": 540,
        "wires": [
            [
                "8d49fe3c56558d3b"
            ]
        ]
    },
    {
        "id": "256f9fcd6ea53b31",
        "type": "subflow:47ed10ed94f48a98",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "x": 2490,
        "y": 540,
        "wires": [
            [
                "8d5bb1f676c02d7a"
            ]
        ]
    },
    {
        "id": "ad9c2879a4a42e35",
        "type": "subflow:5bd3bcf845cebff7",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "x": 330,
        "y": 760,
        "wires": [
            [
                "6c78df6879c1aaac"
            ]
        ]
    },
    {
        "id": "0941d57cfd55a81d",
        "type": "inject",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 840,
        "wires": [
            [
                "54b1acc99d558a1c"
            ]
        ]
    },
    {
        "id": "54b1acc99d558a1c",
        "type": "subflow:47ed10ed94f48a98",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "x": 330,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "5d1073b5dac90e68",
        "type": "change",
        "z": "c8219eb372b7ebb9",
        "name": "数据初始化",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO.index_assembled",
                "pt": "global",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "torque",
                "pt": "global",
                "to": "[]",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "0f116fefb4aa8b3c",
        "type": "inject",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 515,
        "y": 340,
        "wires": [
            [
                "803020438a116d8a"
            ]
        ],
        "l": false
    },
    {
        "id": "e0c3e67de2a58c1b",
        "type": "debug",
        "z": "c8219eb372b7ebb9",
        "name": "debug 86",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 145,
        "y": 260,
        "wires": [],
        "l": false
    },
    {
        "id": "1ab8bfd6128f5e1a",
        "type": "debug",
        "z": "c8219eb372b7ebb9",
        "name": "debug 87",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 205,
        "y": 260,
        "wires": [],
        "l": false
    },
    {
        "id": "748c6a30506cba0e",
        "type": "debug",
        "z": "c8219eb372b7ebb9",
        "name": "debug 88",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 285,
        "y": 260,
        "wires": [],
        "l": false
    },
    {
        "id": "b41283ef3db299df",
        "type": "debug",
        "z": "c8219eb372b7ebb9",
        "name": "debug 89",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 365,
        "y": 260,
        "wires": [],
        "l": false
    },
    {
        "id": "f717869b1df06302",
        "type": "change",
        "z": "c8219eb372b7ebb9",
        "name": "阀体上阀串装配序号置1",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO.index_assembled",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2910,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "c88d65b8254f62bb",
        "type": "inject",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 2650,
        "y": 760,
        "wires": [
            [
                "f717869b1df06302"
            ]
        ]
    },
    {
        "id": "e86e77d446be3ae1",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "c8219eb372b7ebb9",
        "name": "重新升降盘",
        "env": [
            {
                "name": "FanZai",
                "value": "7",
                "type": "num"
            }
        ],
        "x": 2270,
        "y": 440,
        "wires": [
            [
                "8e1bc3b2ea4d8583"
            ]
        ]
    },
    {
        "id": "ba0378f1b59600a8",
        "type": "inject",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 2000,
        "y": 380,
        "wires": [
            [
                "e86e77d446be3ae1"
            ]
        ]
    },
    {
        "id": "530dacbfe73ec81c",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "c8219eb372b7ebb9",
        "name": "只打螺丝",
        "env": [
            {
                "name": "FanZai",
                "value": "6",
                "type": "num"
            }
        ],
        "x": 3240,
        "y": 360,
        "wires": [
            [
                "eb0cc645acc24312"
            ]
        ]
    },
    {
        "id": "31843a515c5bce68",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "c8219eb372b7ebb9",
        "name": "打，吹螺丝一起",
        "env": [
            {
                "name": "FanZai",
                "value": "12",
                "type": "num"
            }
        ],
        "x": 3260,
        "y": 320,
        "wires": [
            [
                "eb0cc645acc24312"
            ]
        ]
    },
    {
        "id": "33bf43e88400fc19",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "c8219eb372b7ebb9",
        "name": "阀体回原，发送work_over命令",
        "env": [
            {
                "name": "FanZai",
                "value": "11",
                "type": "num"
            }
        ],
        "x": 2930,
        "y": 700,
        "wires": [
            [
                "e2de0b9ecd85dede"
            ]
        ]
    },
    {
        "id": "2be17fb6b56e82c0",
        "type": "subflow:54f147592a602955",
        "z": "c8219eb372b7ebb9",
        "name": "抓取先导阀等待",
        "env": [
            {
                "name": "6axes",
                "value": "7",
                "type": "num"
            }
        ],
        "x": 940,
        "y": 340,
        "wires": [
            [
                "7656e138f85e1e85"
            ]
        ]
    },
    {
        "id": "234276a5398fd515",
        "type": "subflow:54f147592a602955",
        "z": "c8219eb372b7ebb9",
        "name": "抓取先导阀等待",
        "env": [
            {
                "name": "6axes",
                "value": "7",
                "type": "num"
            }
        ],
        "x": 2000,
        "y": 220,
        "wires": [
            [
                "6a7023915a7d5c19"
            ]
        ]
    },
    {
        "id": "0b3076e2f4bc8c24",
        "type": "subflow:54f147592a602955",
        "z": "c8219eb372b7ebb9",
        "name": "放置到顶螺丝",
        "env": [
            {
                "name": "6axes",
                "value": "1",
                "type": "num"
            }
        ],
        "x": 2000,
        "y": 140,
        "wires": [
            [
                "b2abc5e7d0d326c2"
            ]
        ]
    },
    {
        "id": "04bb53c01fe26cb5",
        "type": "subflow:54f147592a602955",
        "z": "c8219eb372b7ebb9",
        "name": "放到视觉判定",
        "env": [
            {
                "name": "6axes",
                "value": "2",
                "type": "num"
            }
        ],
        "x": 2360,
        "y": 300,
        "wires": [
            [
                "76396970d4b0ad70"
            ]
        ]
    },
    {
        "id": "423a90606ccb584f",
        "type": "subflow:54f147592a602955",
        "z": "c8219eb372b7ebb9",
        "name": "放阀体",
        "env": [
            {
                "name": "6axes",
                "value": "4",
                "type": "num"
            }
        ],
        "x": 2830,
        "y": 340,
        "wires": [
            [
                "11bcd235ee3079d5"
            ]
        ]
    },
    {
        "id": "ed0e06b4f7d3a5d4",
        "type": "subflow:54f147592a602955",
        "z": "c8219eb372b7ebb9",
        "name": "放废料盒",
        "env": [
            {
                "name": "6axes",
                "value": "5",
                "type": "num"
            }
        ],
        "x": 2860,
        "y": 240,
        "wires": [
            [
                "d1193b250f3287e7"
            ]
        ]
    },
    {
        "id": "eb0cc645acc24312",
        "type": "subflow:54f147592a602955",
        "z": "c8219eb372b7ebb9",
        "name": "回原位",
        "env": [
            {
                "name": "6axes",
                "value": "6",
                "type": "num"
            }
        ],
        "x": 3470,
        "y": 360,
        "wires": [
            [
                "bb1138bfd22cc52a"
            ]
        ]
    },
    {
        "id": "aa85a29a9bb7ff6e",
        "type": "subflow:54f147592a602955",
        "z": "c8219eb372b7ebb9",
        "name": "放置到顶螺丝",
        "env": [
            {
                "name": "6axes",
                "value": "1",
                "type": "num"
            }
        ],
        "x": 2260,
        "y": 220,
        "wires": [
            [
                "c617160216fc0e1c"
            ]
        ]
    },
    {
        "id": "bf26bfbdeda4faee",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "c8219eb372b7ebb9",
        "name": "重新升降盘",
        "env": [
            {
                "name": "FanZai",
                "value": "7",
                "type": "num"
            }
        ],
        "x": 450,
        "y": 520,
        "wires": [
            [
                "803020438a116d8a"
            ]
        ]
    },
    {
        "id": "9764de504b48eb8c",
        "type": "delay",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 335,
        "y": 520,
        "wires": [
            [
                "bf26bfbdeda4faee"
            ]
        ],
        "l": false
    },
    {
        "id": "86ac43775583bf27",
        "type": "inject",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1880,
        "y": 560,
        "wires": [
            [
                "d377af33b816486b"
            ]
        ]
    },
    {
        "id": "8d49fe3c56558d3b",
        "type": "change",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "IO_80.AO.tray_out_count",
                "pt": "global",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "StationTask_80.ProcessDetail[0].MaterialDetails[1].layers",
                "pt": "global",
                "to": "[]",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2280,
        "y": 540,
        "wires": [
            [
                "256f9fcd6ea53b31"
            ]
        ]
    },
    {
        "id": "8d5bb1f676c02d7a",
        "type": "function",
        "z": "c8219eb372b7ebb9",
        "name": "function 99",
        "func": "var IO = global.get(\"IO_80\");\nIO.AO.tray_in_count = 5;\nIO.AO.tray_out_count = 0;\ntry {\n    var StationTask = global.get(\"StationTask_80\");\n    IO.AO.tray_in_count = StationTask.ProcessDetail[0].MaterialDetails[0].layers.length;\n}\ncatch (ex) {\n    console.debug(ex);\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2650,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "ab04e5ce6860eeaf",
        "type": "inject",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 2260,
        "y": 480,
        "wires": [
            [
                "8d49fe3c56558d3b"
            ]
        ]
    },
    {
        "id": "2352997a5d5c54e7",
        "type": "inject",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 3210,
        "y": 260,
        "wires": [
            [
                "31843a515c5bce68"
            ]
        ]
    },
    {
        "id": "419fb12535f53c19",
        "type": "subflow:8fe3e255cbd378f2",
        "z": "c8219eb372b7ebb9",
        "name": "换料盘",
        "env": [
            {
                "name": "FanZai",
                "value": "8",
                "type": "num"
            }
        ],
        "x": 330,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "a726ee927f3f37ad",
        "type": "inject",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 720,
        "wires": [
            [
                "419fb12535f53c19"
            ]
        ]
    },
    {
        "id": "6c78df6879c1aaac",
        "type": "subflow:47ed10ed94f48a98",
        "z": "c8219eb372b7ebb9",
        "name": "",
        "x": 510,
        "y": 760,
        "wires": [
            []
        ]
    }
]